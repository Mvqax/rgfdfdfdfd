(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3165,7231],{50284:function(e,t,r){"use strict";r.d(t,{i:function(){return j},ZP:function(){return P}});var n=r(92809),i=r(65988),o=r(67294),a=r(33058),l=r(53567),c=r(38708),s=r(25517),u=r(44653),d=r(41664),p=r(46125),f=r(56072),h=r(38934),m=r(11163),v=r(60461),g=r(23577),b=r(61850),Z=r(97231),y=r(35944);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(){return(0,y.BX)("div",{className:"jsx-3972755849",children:[(0,y.tZ)("div",{className:"jsx-3972755849 card"}),(0,y.tZ)("div",{className:"jsx-3972755849 footer",children:(0,y.tZ)("div",{className:"jsx-3972755849 avatar"})}),(0,y.tZ)(i.default,{id:"3972755849",children:[".card.jsx-3972755849{border-radius:var(--border-radius-8);background-color:var(--background-higher);height:".concat(196,"px;}"),".footer.jsx-3972755849{padding:var(--space-8) var(--space-8) 0;color:var(--foreground-dimmer);}",".avatar.jsx-3972755849{background-color:var(--background-default);position:relative;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;width:20px;height:20px;border-radius:50%;overflow:hidden;}"]})]})}function k(e){var t=e.user,r=e.showUsername,n=r?void 0:{"data-microtip-position":"right","aria-label":t.username,role:"tooltip"};return(0,y.tZ)(d.default,w(w({},(0,u.Ru)(t)),{},{children:(0,y.BX)("a",w(w({},n),{},{className:"jsx-1679249341 "+(n&&null!=n.className&&n.className||""),children:[(0,y.tZ)(v.Z,{size:20,alt:t.username,src:t.image}),r?(0,y.tZ)("span",{className:"jsx-1679249341 username",children:t.username}):null,(0,y.tZ)(i.default,{id:"1679249341",children:["a.jsx-1679249341{min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:inherit;font-size:var(--font-size-default);}",".username.jsx-1679249341{margin-left:8px;-webkit-flex:1;-ms-flex:1;flex:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}"]})]}))}))}function O(e){var t=e.repl,r=t.owner,n=t.multiplayers;return r?n.length?(0,y.BX)(l.Ug,{spacing:1,align:"center",children:[(0,y.tZ)(k,{user:r}),t.multiplayers.length<2?n.map((function(e){return(0,y.tZ)(k,{user:e},e.id)})):null,n.length>2?(0,y.BX)(y.HY,{children:[(0,y.tZ)(k,{user:n[0]}),(0,y.BX)(s.Z,{"data-microtip-position":"right","aria-label":n.slice(1).map((function(e){return e.username})).join(", "),role:"tooltip",size:"small",foreground:2,children:["+",n.length-1]})]}):null]}):(0,y.tZ)(k,{showUsername:!0,user:r}):null}var C={styles:(0,y.tZ)(i.default,{id:"433262208",children:["img.jsx-433262208{position:absolute;top:0;left:0;width:100%;height:100%;max-width:100%;border-radius:var(--border-radius-8);}"]}),className:"jsx-433262208"};function P(e){var t=e.repl,r=e.showDialogOnClick,n=e.small,u=(0,m.useRouter)(),v=(0,b.Z)("flag-posts-feed-v2"),x=o.useRef(!1);o.useEffect((function(){x.current="ontouchstart"in window}),[]);var j=x.current?void 0:{"data-keen-slider-pe":!0};return(0,y.BX)("div",{className:"jsx-3689132604 "+((n?"small":void 0)||""),children:[(0,y.tZ)(d.default,{as:t.url,href:{pathname:"/replView",query:{replUrl:t.url}},children:(0,y.BX)("a",{onClick:function(e){r&&(window.innerWidth<p.d||(0,f.Z)(e)||((0,h.track)(h.events.SPOTLIGHT_DIALOG_OPENED,{replUrl:t.url}),e.preventDefault(),u.push({pathname:u.pathname,query:w(w({},u.query),{},{dialogReplId:t.id})},t.url+"?v=1",{shallow:!0})))},className:"jsx-3689132604 main",children:[t.imageUrl?(0,y.tZ)(a.Z,{className:C.className,src:t.imageUrl,layout:"fill",objectFit:"cover"}):null,(0,y.tZ)("div",w(w({},j),{},{className:"jsx-3689132604 "+(j&&null!=j.className&&j.className||"content"),children:(0,y.tZ)("div",w(w({},j),{},{className:"jsx-3689132604 title",children:t.title}))}))]})}),(0,y.tZ)("div",{className:"jsx-3689132604 footer",children:(0,y.tZ)("div",{className:"jsx-3689132604 meta",children:(0,y.BX)(l.Ug,{spacing:1,align:"center",justify:"space-between",wrap:"nowrap",children:[(0,y.tZ)(O,{repl:t}),(0,y.BX)(l.Ug,{spacing:1,align:"center",wrap:"nowrap",children:[(0,y.BX)(l.Ug,{spacing:"2px",wrap:"nowrap",align:"center",children:[(0,y.tZ)(g.Z,{}),(0,y.tZ)(s.Z,{foreground:2,size:"xsmall",children:t.likeCount})]}),(0,y.BX)(l.Ug,{spacing:"2px",wrap:"nowrap",align:"center",children:[(0,y.tZ)(c.Z,{}),(0,y.tZ)(s.Z,{foreground:2,size:"xsmall",children:t.runCount})]})]})]})})}),t.tags.length>0?(0,y.tZ)("div",{className:"jsx-3689132604 repl-card-tags",children:t.tags.map((function(e){var t=v?(0,Z.M6)(e.id):{href:{pathname:"/apps/tag",query:{tag:e.id}},as:"/apps/".concat(e.id)};return(0,y.tZ)("div",{className:"jsx-3689132604 repl-card-tag",children:(0,y.tZ)(d.default,{href:t.href,as:t.as,children:(0,y.BX)("a",{className:"jsx-3689132604 repl-card-tag-text",children:["#",e.id]})})},e.id)}))}):null,C.styles,(0,y.tZ)(i.default,{id:"2952706334",children:[".main.jsx-3689132604{height:".concat(196,"px;}"),".small.jsx-3689132604 .main.jsx-3689132604{height:".concat(140,"px;}")]}),(0,y.tZ)(i.default,{id:"1591911083",children:["a.jsx-3689132604:hover,a.jsx-3689132604:focus,a.jsx-3689132604:active{-webkit-text-decoration:none;text-decoration:none;}","img.jsx-3689132604{object-fit:cover;}",".main.jsx-3689132604{position:relative;display:block;background-color:var(--background-default);box-shadow:var(--shadow-1);-webkit-transition:-webkit-transform 0.2s,box-shadow 0.2s;-webkit-transition:transform 0.2s,box-shadow 0.2s;transition:transform 0.2s,box-shadow 0.2s;}",".main.jsx-3689132604:hover{-webkit-transform:scale(1.025);-ms-transform:scale(1.025);transform:scale(1.025);box-shadow:var(--shadow-2);}",".is-touch-device .main.jsx-3689132604:hover{-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);}",".main.jsx-3689132604,.content.jsx-3689132604{border-radius:var(--border-radius-8);}",".content.jsx-3689132604{position:relative;width:100%;height:100%;color:var(--white);position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;background:linear-gradient( to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.1) 60% );z-index:1;}",".title.jsx-3689132604{font-size:var(--font-size-subhead-default);font-family:var(--font-family-default);font-weight:var(--font-weight-medium);color:var(--white);padding:var(--space-8) var(--space-16);text-overflow:ellipsis;overflow:hidden;}",".small.jsx-3689132604 .title.jsx-3689132604{font-size:var(--font-size-subhead-default);}",".footer.jsx-3689132604{padding:var(--space-8) var(--space-8) 0;color:var(--foreground-dimmer);}",".repl-card-tags.jsx-3689132604{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}",".repl-card-tags.jsx-3689132604>div.jsx-3689132604{margin:1px;}",".repl-card-tag.jsx-3689132604:hover{cursor:pointer;}",".repl-card-tag-text.jsx-3689132604{font-size:var(--font-size-small);color:var(--foreground-default);}",".repl-card-tag-text.jsx-3689132604:hover{color:var(--foreground-dimmer);}"]})]})}},46125:function(e,t,r){"use strict";r.d(t,{d:function(){return n}});var n=1080},35613:function(e,t,r){"use strict";var n=r(92809),i=r(79056),o=r(65988),a=r(67294),l=r(53567),c=r(77702),s=r(35944);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e){var t=e.title,r=void 0===t?"Sign up":t,n=e.description,u=void 0===n?"Code, create, and learn together on Replit":n,p=e.onSuccess,f=void 0===p?function(){}:p,h=e.onFailure,m=void 0===h?function(){}:h,v=e.onAnonSuccess,g=void 0===v?function(){}:v,b=e.showLoginFirst,Z=void 0!==b&&b,y=e.isTeacher,x=void 0!==y&&y,w=e.toggleTeacher,j=void 0===w?function(){}:w,k=e.allowAnon,O=void 0!==k&&k,C=e.source,P=a.useState(Z),S=(0,i.Z)(P,2),R=S[0],D=S[1];return(0,s.BX)("div",{className:"jsx-845344649 auth-modal",children:[(0,s.BX)(l.gC,{align:"center",spacing:2,children:[(0,s.tZ)("div",{className:"jsx-845344649 auth-modal-title",children:r}),(0,s.tZ)("div",{className:"jsx-845344649 auth-modal-description",children:u}),(0,s.tZ)(c.Z,{onChangeAuth:function(){D(!R)},isTeacher:x,isLogin:R,onSubmit:function(e){"error"in e?m(e):"user"in e&&f(d(d({},e),{},{isLogin:R}))},toggleTeacher:j,source:C}),O&&(0,s.tZ)("div",{className:"jsx-845344649 auth-modal-anon",children:(0,s.tZ)("a",{onClick:g,className:"jsx-845344649",children:"continue as Anonymous"})})]}),(0,s.tZ)(o.default,{id:"845344649",children:[".auth-modal.jsx-845344649{max-width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:var(--space-32) var(--space-16);}",".title-container.jsx-845344649{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin-bottom:var(--space-16);}",".auth-modal-title.jsx-845344649{text-align:center;color:var(--foreground-default);font-size:var(--font-size-header-big);font-weight:var(--font-weight-medium);}",".auth-modal-description.jsx-845344649{text-align:center;color:var(--foreground-dimmer);font-size:var(--font-size-subhead-default);}",".auth-modal-anon.jsx-845344649{margin-top:14px;font-size:14px;}",".auth-modal-anon.jsx-845344649 a.jsx-845344649{color:var(--accent-primary-default);-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}"]})]})}},22272:function(e,t,r){"use strict";var n=r(65988),i=r(84476),o=r(25517),a=r(88834),l=r(53567),c=r(45971),s=r(2876),u=r(35944);t.Z=function(e){e.devHide;return(0,u.tZ)(c.Z,{width:"medium",isOpen:!0,preventClose:!0,onRequestClose:function(){},children:(0,u.BX)("div",{className:n.default.dynamic([["1714902850",[s.n]]])+" modal-content",children:[(0,u.BX)(l.gC,{spacing:2,align:"center",children:[(0,u.tZ)(i.Z,{level:2,children:" The IDE is having a bit of trouble."}),(0,u.tZ)("div",{className:n.default.dynamic([["1714902850",[s.n]]])+" spacer"}),(0,u.tZ)(o.Z,{size:"large",children:"Parts of the IDE are not working correctly. Try reloading the page to get back to coding."}),(0,u.tZ)("div",{className:n.default.dynamic([["1714902850",[s.n]]])+" spacer"}),(0,u.tZ)(a.Z,{onClick:function(){return window.location.reload()},color:"primary",filled:!0,fullWidth:!0,children:"reload"}),!1]}),(0,u.tZ)(n.default,{id:"1714902850",dynamic:[s.n],children:[".modal-content.__jsx-style-dynamic-selector{padding:var(--space-32);}",".sentry-error-embed-wrapper{z-index:".concat(s.n," !important;}")]})]})})}},68507:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});r(67294);var n=r(49512),i=r(82457),o=r(35944);function a(e){var t=e.gap,r=e.inset,a=e.children,l=e.className;return(0,o.tZ)(n.Z,{className:l,css:[{overflowX:"auto",overflowY:"hidden","::-webkit-scrollbar":[i.l0.display.none]},"",""],children:(0,o.tZ)(n.Z,{css:[i.l0.px(r),i.l0.rowWithGap(t),"width:fit-content;",""],children:a})})}},76839:function(e,t,r){"use strict";function n(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){c=!0,a=e},f:function(){try{l||null==r.return||r.return()}finally{if(c)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e){var t=e.trim();return 0===t.length||t.startsWith("#")}function a(e,t){return e.split(t).length-1}function l(e){if(!e.includes("#"))return e;var t,r=!1,i=[],o=n(e.split("#"));try{for(o.s();!(t=o.n()).done;){var l=t.value;(1===a(l,'"')||a(l,"'"))&&(r?(r=!1,i.push(l)):r=!0),(0===i.length||r)&&i.push(l)}}catch(c){o.e(c)}finally{o.f()}return i.join("#")}function c(e,t){var r=e.trim();if(0===r.length)return r;var n=r.length-1,i='"'===r[0]&&'"'===r[n],o="'"===r[0]&&"'"===r[n];return(o||i)&&(r=r.slice(1,-1)),i&&(r=(r=r.replace(/\\./g,(function(e){return"\\n"===e?"\n":"\\r"===e?"\r":e}))).replace(/\\([^$])/g,"$1")),o||(r=r.replace(/(\\)?(\$)(\()?\{?([A-Z0-9_]+)?\}?/g,(function(e){var r=e.match(/(\\)?(\$)(\()?\{?([A-Z0-9_]+)?\}?/);if(null===r)return e;if("\\"===r[1]||"("===r[2])return r[0].slice(1);var n=r[4];return""!==n?t[n]||"":e}))),r}r.d(t,{Z:function(){return u}});var s=r(79056);var u={parse:function(e){var t,r={},i=n(e.split(/\n|\r|\r\n/));try{for(i.s();!(t=i.n()).done;){var a=t.value;if(!o(a)){var s=(a=l(a)).indexOf("="),u=a.indexOf(":");if(-1!==u||-1!==s){var d=s;-1!==u&&(u<s||-1===s)&&(d=u);var p=a.slice(0,d).replace(/^\s*(?:export\s+)?(.*?)\s*$/,"$1"),f=c(a.slice(d+1),r);r[p]=f}}}}catch(h){i.e(h)}finally{i.f()}return r},serialize:function(e){return Object.entries(e).reduce((function(e,t){var r=(0,s.Z)(t,2),n=r[0],i=r[1].replace(/\\([^$])/g,"\\\\$1").replace(/\$/g,"\\\\$$").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r");return e+="".concat(n,'="').concat(i,'"\n')}),"")}}},5392:function(e,t,r){"use strict";function n(e,t){if(!e)return null;var r=e[t];return r?Array.isArray(r)?null:r:null}r.d(t,{Z:function(){return n}})},56072:function(e,t,r){"use strict";function n(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}r.d(t,{Z:function(){return n}})},97231:function(e,t,r){"use strict";r.d(t,{M6:function(){return v},L8:function(){return g},QH:function(){return b},JL:function(){return Z}});var n=r(70917),i=r(97131),o=r(92809),a=(r(67294),r(49512)),l=r(82457),c=r(223),s=r(63279),u=r(41481),d=r(79270),p=r(68507),f=r(35944);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t){if(!t)return{href:{pathname:"/postsFeed",query:{boardSlug:e}},as:"/community/".concat(e)};var r=t.searchQuery?{q:t.searchQuery}:{};return{href:{pathname:"/postsFeed",query:m({boardSlug:e,order:t.order},r)},as:{pathname:"/community/".concat(e),query:m(m({},r),t.order!==u.eR?{order:t.order.toLowerCase()}:{})}}}function g(e){return v("all",e)}function b(e,t){var r=t.tags?t.tags.join(","):"all";return{href:{pathname:"/postsFeed",query:{boardSlug:r,order:(0,u.Zb)(e)}},as:{pathname:"/community/".concat(r),query:m({},e!==u.eR?{order:(0,u.Zb)(e)}:{})}}}function Z(e){var t,r,u=e.tagGroups,h=e.params,m=[].concat((0,i.Z)(u.official),(0,i.Z)(u.community)).map((function(e){var t,r=Boolean(null===(t=h.tags)||void 0===t?void 0:t.includes(e.id)),n=r?g(h):v(e.id,h);return(0,f.tZ)(d.t,{tag:e,link:n,isActive:r},e.id)}));return(0,f.BX)(a.Z,{css:[l.l0.colWithGap(16),"",""],children:[(0,f.tZ)(c.x,{color:"dimmer",children:"TOP TAGS"}),(0,f.BX)(a.Z,{children:[(0,f.tZ)(p.Z,{gap:8,inset:16,css:[(t={},(0,o.Z)(t,s.A.desktop,[l.l0.display.none]),(0,o.Z)(t,"marginLeft","calc(-1 * ".concat(l.TV.space16,")")),(0,o.Z)(t,"marginRight","calc(-1 * ".concat(l.TV.space16,")")),t),"",""],children:m}),(0,f.tZ)(a.Z,{css:(0,n.iv)((r={},(0,o.Z)(r,s.A.mobile,[l.l0.display.none]),(0,o.Z)(r,s.A.desktop,[l.l0.colWithGap(32)]),r),"",""),children:(0,f.tZ)(a.Z,{css:[l.l0.colWithGap(8),l.l0.align.start,"",""],children:m})})]})]})}},63279:function(e,t,r){"use strict";r.d(t,{A:function(){return i}});var n=r(32324),i={mobile:"@media (max-width: ".concat(n.j.tabletMin,"px)"),desktop:"@media (min-width: ".concat(n.j.tabletMin+1,"px)")}},41481:function(e,t,r){"use strict";r.d(t,{eR:function(){return o},Zb:function(){return l},Qf:function(){return c}});var n=r(45187),i=r(5392),o=n.vXE.Hot,a={hot:n.vXE.Hot,new:n.vXE.New,top:n.vXE.Top,votes:n.vXE.Top};function l(e){return e.toLowerCase()}function c(e){var t=(0,i.Z)(e,"after")||void 0,r=(0,i.Z)(e,"q")||void 0,n=(0,i.Z)(e,"boardSlug")||void 0,c=n&&"all"!==n?n.split(","):void 0,s=(0,i.Z)(e,"order")||l(o),u=a[s]||o,d=(0,i.Z)(e,"count"),p=d?parseInt(d,10):void 0;return void 0!==p&&Number.isNaN(p)&&(p=void 0),{tags:c,order:u,count:p,searchQuery:r,after:t}}},83165:function(e,t,r){"use strict";r.d(t,{Gu:function(){return st},i8:function(){return lt},ZP:function(){return dt}});var n=r(97131),i=r(70917),o=r(79056),a=r(92809),l=r(67294),c=r(45187),s=r(49975),u=r(30266),d=r(65988),p=r(809),f=r.n(p),h=r(94184),m=r.n(h),v=r(53567),g=r(88834),b=r(68724),Z=r(54298),y=r(35944);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=function(e,t){var r=e.initialValue,n=e.onSubmit,i=e.onCancel,a=e.isLoading,c=e.autoFocus,s=e.ctaText,p=e.placeholder,h=e.userSearch,m=e.formError,x=e.onFocus,j=e.hasTitle,O=e.initialTitleValue,C=l.useState(!1),P=(0,o.Z)(C,2),S=P[0],R=P[1],D=l.useState(O||""),E=(0,o.Z)(D,2),N=E[0],T=E[1],B=l.useRef(null);l.useEffect((function(){if(c&&r&&B.current){var e=r.length;B.current.setSelectionRange(e,e)}}),[r,c]);var _=(0,Z.Z)({initialValue:r,textTriggers:{"@":function(){var e=(0,u.Z)(f().mark((function e(t){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({query:t||"",limit:5});case 2:return r=e.sent,e.abrupt("return",r.map((function(e){return{icon:(0,y.tZ)(b.Z,{url:e.image}),value:e.username}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),A=_.ref,I=_.value,X=_.setValue,U=_.dropZoneHanlders,L=_.handlePaste,V=_.combobox,z=_.caretCoordinates,F=_.suggestions;l.useImperativeHandle(t,(function(){return{reset:function(){return X("")}}}),[X]);var W=!I||a;return(0,y.BX)("form",{onSubmit:function(e){e.preventDefault(),n({title:N,body:I})},className:"jsx-".concat(k.__hash)+" jsx-66521441 "+d.default.dynamic([["2971482618",[z&&null!==F&&void 0!==F&&F.length?"visibile":"hidden",z?z.top+z.height:0,z?z.left:0]]]),children:[(0,y.BX)(v.gC,{spacing:1,align:"stretch",justify:"end",children:[j?(0,y.tZ)("div",{className:"jsx-".concat(k.__hash)+" jsx-66521441 "+d.default.dynamic([["2971482618",[z&&null!==F&&void 0!==F&&F.length?"visibile":"hidden",z?z.top+z.height:0,z?z.left:0]]])+" title-container",children:(0,y.tZ)("input",{value:N,onChange:function(e){T(e.currentTarget.value)},className:"jsx-".concat(k.__hash)+" jsx-66521441 "+d.default.dynamic([["2971482618",[z&&null!==F&&void 0!==F&&F.length?"visibile":"hidden",z?z.top+z.height:0,z?z.left:0]]])})}):null,(0,y.BX)("div",w(w({},V.getComboboxProps(U)),{},{className:"jsx-".concat(k.__hash)+" jsx-66521441 "+d.default.dynamic([["2971482618",[z&&null!==F&&void 0!==F&&F.length?"visibile":"hidden",z?z.top+z.height:0,z?z.left:0]]])+" textarea-container",children:[(0,y.tZ)("textarea",w(w({},V.getInputProps({autoFocus:c,placeholder:p,ref:function(e){A(e),B.current=e},onPaste:L,onFocus:function(){R(!0),x&&x()},onBlur:function(){R(!1),I||i()},onChange:function(e){X(e.currentTarget.value)},value:I,onKeyDown:function(e){V.isOpen||(e.nativeEvent.preventDownshiftDefault=!0),"Enter"===e.key&&e.metaKey&&(n({title:N,body:I}),e.currentTarget.blur())}})),{},{className:"jsx-".concat(k.__hash)+" jsx-66521441 "+d.default.dynamic([["2971482618",[z&&null!==F&&void 0!==F&&F.length?"visibile":"hidden",z?z.top+z.height:0,z?z.left:0]]])})),(0,y.tZ)("ul",w(w({},V.getMenuProps()),{},{className:"jsx-".concat(k.__hash)+" jsx-66521441 "+d.default.dynamic([["2971482618",[z&&null!==F&&void 0!==F&&F.length?"visibile":"hidden",z?z.top+z.height:0,z?z.left:0]]]),children:null!==F&&void 0!==F&&F.length?F.map((function(e,t){return(0,y.tZ)("li",w(w({},V.getItemProps({item:e,index:t,key:e.value})),{},{className:"jsx-".concat(k.__hash)+" jsx-66521441 "+d.default.dynamic([["2971482618",[z&&null!==F&&void 0!==F&&F.length?"visibile":"hidden",z?z.top+z.height:0,z?z.left:0]]])+" "+((V.highlightedIndex===t?"highlighted":void 0)||""),children:e.value}))})):null}))]})),m?(0,y.BX)("p",{className:"jsx-".concat(k.__hash)+" jsx-66521441 "+d.default.dynamic([["2971482618",[z&&null!==F&&void 0!==F&&F.length?"visibile":"hidden",z?z.top+z.height:0,z?z.left:0]]])+" warning-text",children:[m," For more information,\xa0",(0,y.tZ)("a",{href:" https://docs.replit.com/repls/apps-and-publishing",target:"_blank",className:"jsx-".concat(k.__hash)+" jsx-66521441 "+d.default.dynamic([["2971482618",[z&&null!==F&&void 0!==F&&F.length?"visibile":"hidden",z?z.top+z.height:0,z?z.left:0]]]),children:"check out the guidelines."})]}):null,S||I?(0,y.BX)(v.Ug,{justify:"end",spacing:"4px",children:[(0,y.tZ)(g.Z,{filled:!1,border:!1,onClick:function(){X(""),i()},children:"Cancel"}),(0,y.tZ)(g.Z,{filled:!0,disabled:W,color:"primary",type:"submit",children:s||"Comment"})]}):null]}),(0,y.tZ)(d.default,{id:k.__hash,children:k}),(0,y.tZ)(d.default,{id:"66521441",children:[".textarea-container.jsx-66521441{font-size:var(--font-size-default);position:relative;}",".warning-text.jsx-66521441{font-family:var(--font-family-default);font-size:var(--font-size-small);font-weight:var(--font-weight-regular);color:var(--accent-negative-default);}","ul.jsx-66521441{position:absolute;margin:0;padding:var(--space-4) 0;background-color:var(--background-default);border:1px solid var(--outline-dimmest);list-style:none;border-radius:var(--border-radius-4);overflow:hidden;z-index:1;}","ul.jsx-66521441:focus{box-shadow:0 0 2.5px var(--outline-dimmest) inset;}","li.jsx-66521441{padding:var(--space-4);}",".highlighted.jsx-66521441{background-color:var(--accent-primary-default);color:var(--white);}"]}),(0,y.tZ)(d.default,{id:"2971482618",dynamic:[z&&null!==F&&void 0!==F&&F.length?"visibile":"hidden",z?z.top+z.height:0,z?z.left:0],children:["ul.__jsx-style-dynamic-selector{visibility:".concat(z&&null!==F&&void 0!==F&&F.length?"visibile":"hidden",";top:").concat(z?z.top+z.height:0,"px;left:calc( ").concat(z?z.left:0,"px - var(--space-4) );}")]})]})},k=["input.jsx-3234843285{font-size:var(--font-size-subhead-default) !important;font-weight:var(--font-weight-medium) !important;}","input.jsx-3234843285,textarea.jsx-3234843285{border-radius:var(--border-radius-8);background-color:var(--interactive-background);border-width:1 px;border-style:solid;border-color:transparent;padding:var(--space-8);color:var(--foreground-default);outline:0 none;font-size:var(--font-size-default);font-family:inherit;display:block;width:100%;max-width:100%;-webkit-transition:0.1s box-shadow,0.2s background-color,0.2s border-color;transition:0.1s box-shadow,0.2s background-color,0.2s border-color;}","textarea.jsx-3234843285{min-height:60px;max-height:240px;overflow-y:scroll;line-height:1.2em;resize:vertical;}",".jsx-3234843285::-webkit-input-placeholder{color:var(--foreground-dimmer);}",".jsx-3234843285::-moz-placeholder{color:var(--foreground-dimmer);}",".jsx-3234843285:-ms-input-placeholder{color:var(--foreground-dimmer);}",".jsx-3234843285::placeholder{color:var(--foreground-dimmer);}","input.jsx-3234843285:hover,textarea.jsx-3234843285:hover{border-color:var(--interactive-border--hover);}","input.jsx-3234843285:focus,input.jsx-3234843285:active,textarea.jsx-3234843285:focus,textarea.jsx-3234843285:active{background-color:var(--interactive-background--active);border-color:var(--accent-primary-default);}","input.jsx-3234843285:focus,textarea.jsx-3234843285:focus{box-shadow:var(--shadow-1);}"];k.__hash="3234843285";var O=l.forwardRef(j),C=r(38934);function P(e){var t=l.useState(null),r=(0,o.Z)(t,2),n=r[0],i=r[1],a=l.useRef(null),s=(0,c.QpW)({onCompleted:function(t){if("UserError"===t.createReplComment.__typename)i(t.createReplComment.message);else if("ReplComment"===t.createReplComment.__typename){var r;(0,C.track)(C.events.COMMENT_MADE,{source:"spotlight"}),e.onCreate(t.createReplComment),i(null),null===(r=a.current)||void 0===r||r.reset()}},onError:function(e){return i(e.message)}}),u=(0,o.Z)(s,2),d=u[0],p=u[1];return(0,y.tZ)(O,{onFocus:function(){return i(null)},ref:a,userSearch:e.userSearch,placeholder:e.placeholder,autoFocus:e.autoFocus,initialValue:e.initialValue,isLoading:p.loading,onCancel:function(){e.onCancel(),i(null)},onSubmit:function(t){var r=t.body;p.loading||(i(null),d({variables:{input:{replId:e.replId,body:r}}}))},formError:n})}function S(e){var t=l.useState(null),r=(0,o.Z)(t,2),n=r[0],i=r[1],a=l.useRef(null),s=(0,c.cTp)({onCompleted:function(t){if("UserError"===t.createReplCommentReply.__typename)i(t.createReplCommentReply.message);else if("ReplComment"===t.createReplCommentReply.__typename){var r;e.onCreate(t.createReplCommentReply),i(null),null===(r=a.current)||void 0===r||r.reset()}},onError:function(e){return i(e.message)}}),u=(0,o.Z)(s,2),d=u[0],p=u[1];return(0,y.tZ)(O,{onFocus:function(){return i(null)},ref:a,userSearch:e.userSearch,placeholder:e.placeholder,autoFocus:e.autoFocus,initialValue:e.initialValue,isLoading:p.loading,onCancel:function(){e.onCancel(),i(null)},onSubmit:function(t){var r=t.body;p.loading||(i(null),d({variables:{input:{replCommentId:e.replCommentId,body:r}}}))},formError:n})}var R=r(25517),D=r(91761),E=r(45971),N=r(35566),T=r(51444),B=r(83272),_=r(61357),A=r(55412),I=r(46829),X=r(11163),U=r(35613),L=r(223),V=r(14900),z=r(49512),F=r(82457);var W={name:"c6nuhq",styles:"word-break:break-all;flex-shrink:1"};function M(e){var t=e.title;return(0,y.tZ)(z.Z,{css:[F.l0.flex.row,F.l0.py(8),"",""],children:(0,y.BX)(V.Z,{background:"higher",css:[F.l0.borderRadius(16),F.l0.rowWithGap(8),F.l0.align.center,F.l0.p(8),"flex-shrink:1;",""],children:[(0,y.tZ)(L.x,{variant:"subheadDefault",multiline:!0,css:W,children:t}),(0,y.tZ)(L.x,{color:"dimmer",css:[F.l0.borderRadius(16),F.l0.p(4),{border:"1px solid "+F.TV.outlineDimmer},"",""],children:"Post"})]})})}var G=r(37424),H=r(54916),q=r(56716);function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Y=(0,z.K)("label");function Q(e){var t=e.children;return(0,y.tZ)(z.Z,{css:[F.l0.rowWithGap(8),F.l0.align.center,"",""],children:t})}function J(e){var t,r=e.postId,n=(0,G.H)(),i=(0,c.pDS)({variables:{postId:r}}),a=i.data,l=i.loading,s=(0,c.dB7)(),u=(0,o.Z)(s,2),d=u[0],p=u[1];if(l)return null;var f="Post"===(null===a||void 0===a||null===(t=a.post)||void 0===t?void 0:t.__typename)?a.post:null,h=null===a||void 0===a?void 0:a.boards;if(!f||!h)return(0,y.tZ)(L.x,{children:"Something went wrong"});var m={isPinned:n("isPinned"),isHidden:n("isHidden"),boardId:n("boardId")};function v(e){p.loading||f&&d({variables:{input:$({id:f.id},e)}})}return(0,y.BX)(V.Z,{elevated:!0,css:[F.l0.colWithGap(8),F.l0.p(8),F.l0.borderRadius(8),"",""],children:[(0,y.BX)(Q,{children:[(0,y.tZ)(H.Z,{id:m.isPinned,checked:Boolean(f.isPinned),onChange:function(){return v({isPinned:!f.isPinned})}}),(0,y.tZ)(Y,{htmlFor:m.isPinned,children:"Pin post to Talk feed"})]}),f.canHide?(0,y.BX)(Q,{children:[(0,y.tZ)(H.Z,{id:m.isHidden,checked:Boolean(f.isHidden),onChange:function(e){return v({isHidden:e.target.checked})}}),(0,y.tZ)(Y,{htmlFor:m.isHidden,children:"Hide post from listing"})]}):null,f.canChangeBoard?(0,y.BX)(Q,{children:[(0,y.tZ)(q.Z,{id:m.boardId,placeholder:"Select a board",items:h.map((function(e){return{value:e,title:e.name}})),initialSelectedItem:f.board?{value:f.board,title:f.board.name}:void 0,onChange:function(e){return v({boardId:e.value.id})}}),(0,y.tZ)(Y,{htmlFor:m.isHidden,children:"Change board (requires reload)"})]}):null]})}var ee=r(44653),te=r(26253),re=r(22984),ne=r(30281),ie=r(17513),oe=(0,z.K)("textarea"),ae=(0,z.K)("form"),le=(0,i.iv)([ne.gU.filled,F.l0.p(8),{color:F.TV.foregroundDefault,outline:"0 none",fontSize:F.TV.fontSizeDefault,fontFamily:"inherit",lineHeight:"16px",display:"block",width:"100%",maxWidth:"100%","::placeholder":{color:F.TV.foregroundDimmer},":not([disabled])":{cursor:"text"}}],"","");function ce(e){var t=e.postId,r=e.onDone,n=(0,l.useState)(""),i=n[0],a=n[1],s=(0,T.Z)().showConfirm,u=(0,c.wkt)({variables:{postId:t,reason:i},onCompleted:function(){s("Post reported"),r()}}),d=(0,o.Z)(u,2),p=d[0],f=d[1].loading;return(0,y.BX)(V.Z,{background:"default",css:[F.l0.p(16),F.l0.colWithGap(16),F.l0.borderRadius(8),"",""],children:[(0,y.tZ)(L.x,{variant:"subheadBig",children:"Report this post"}),(0,y.BX)(ae,{onSubmit:function(e){e.preventDefault(),p()},css:[F.l0.colWithGap(32),"",""],children:[(0,y.tZ)(z.Z,{css:[F.l0.colWithGap(8),"",""],children:(0,y.tZ)(oe,{placeholder:"More details about why this post is inappropriate",value:i,onChange:function(e){return a(e.currentTarget.value)},css:[le,"resize:none;min-height:120px;",""]})}),(0,y.BX)(z.Z,{css:[F.l0.rowWithGap(8),F.l0.justify.end,"",""],children:[(0,y.tZ)(z.Z,{children:(0,y.tZ)(ie.zx,{type:"button",text:"Cancel",onClick:function(){return r()}})}),(0,y.tZ)(z.Z,{children:(0,y.tZ)(ie.zx,{disabled:f,colorway:"primary",text:f?"Reporting..":"Report post",type:"submit",onClick:function(){return r()}})})]})]})]})}var se=r(51966),ue=r(34940);function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fe(e){var t=e.count;return t>0?(0,y.BX)(z.Z,{css:[F.l0.rowWithGap(4),F.l0.align.center,"",""],children:[(0,y.tZ)(L.x,{children:t}),(0,y.tZ)(L.x,{color:"dimmer",children:(0,se.Z)("comment",t)})]}):(0,y.tZ)(L.x,{color:"dimmer",multiline:!0,children:"No comments yet"})}function he(e){var t,r=e.repl,n=(0,T.Z)(),i=n.showConfirm,a=n.showError,l=(0,c.k2b)({onError:function(e){return a(e.message)},onCompleted:function(e){var t,r=e.setReplCommentSettings;"UserError"!==r.__typename?"Repl"===r.__typename&&i("Comments "+(null!==(t=r.commentSettings)&&void 0!==t&&t.enabled?"enabled":"disabled")):a(r.message)}}),s=(0,o.Z)(l,1)[0],u=null===r||void 0===r||!r.commentSettings||r.commentSettings.enabled;return(0,y.BX)(z.Z,{css:[F.l0.rowWithGap(8),F.l0.justify.spaceBetween,F.l0.align.center,"",""],children:[u?(0,y.tZ)(fe,{count:r.commentCount}):(0,y.tZ)(L.x,{color:"dimmer",multiline:!0,children:"Adding comments has been turned off for this repl."}),(null===(t=r.currentUserPermissions)||void 0===t?void 0:t.changeCommentSettings)&&(0,y.BX)(z.Z,{css:[F.l0.rowWithGap(8),F.l0.align.center,"",""],children:[(0,y.tZ)(L.x,{children:"Allow comments"}),(0,y.tZ)(ue.Z,{isOn:u,onChange:function(){return s({variables:{input:{replId:r.id,enabled:!u}},optimisticResponse:{setReplCommentSettings:pe(pe({},r),{},{commentSettings:{__typename:"ReplCommentSetting",id:-1,enabled:!u}})}})}})]})]})}function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ge(e){var t,r,n,i,a,s,u,p,f,h=e.comment,b=e.onDelete,Z=e.userSearch,x=e.onRepliesToggle,w=e.repliesExpanded,j=e.replyCount,k=e.replId,C=e.replyToId,P=e.onReply,N=e.linkedToCommentId,I=e.currentUser,X=e.parentAuthor,U=e.areCommentsEnabled,L=l.useState(!1),V=(0,o.Z)(L,2),z=V[0],F=V[1],W=l.useState(!1),G=(0,o.Z)(W,2),H=G[0],q=G[1],K=l.useState(!1),$=(0,o.Z)(K,2),Y=$[0],Q=$[1],ne=l.useState(!1),ie=(0,o.Z)(ne,2),oe=ie[0],ae=ie[1],le=l.useState(null),se=(0,o.Z)(le,2),ue=se[0],de=se[1],pe=l.useState(!1),fe=(0,o.Z)(pe,2),he=fe[0],me=fe[1],ge=h.user,be=h.timeCreated,Ze=(0,T.Z)(),ye=Ze.showConfirm,xe=Ze.showError,we=l.useRef(null),je=l.useRef(N),ke=[];null!==(t=h.currentUserPermissions)&&void 0!==t&&t.edit&&ke.push({label:"Edit"}),null!==(r=h.currentUserPermissions)&&void 0!==r&&r.delete&&ke.push({label:"Delete",isDestructive:!0}),l.useEffect((function(){if(je.current===h.id){var e=!1;return setTimeout((function(){if(!e&&we.current){q(!0);var t=we.current.getBoundingClientRect().top+window.scrollY-120;window.scroll({top:t,behavior:"smooth"})}})),function(){e=!0}}}),[h,q]);var Oe=l.useRef(null),Ce=(0,c.kz4)({onError:function(e){return xe(e.message)}}),Pe=(0,o.Z)(Ce,2),Se=Pe[0],Re=Pe[1],De=(0,c.gaR)({onCompleted:function(e){if("UserError"===e.updateReplComment.__typename)xe(e.updateReplComment.message);else if("ReplComment"===e.updateReplComment.__typename){var t;ye("Comment updated"),null===(t=Oe.current)||void 0===t||t.reset()}},onError:function(e){return xe(e.message)}}),Ee=(0,o.Z)(De,2),Ne=Ee[0],Te=Ee[1],Be=null!==(n=h.post)&&void 0!==n&&n.title?h.post:null;return(0,y.BX)("div",{ref:we,className:"jsx-905672075 "+(m()("comment-item",{"is-action-menu-open":z})||""),children:[H?(0,y.tZ)("div",{className:"jsx-905672075 highlight"}):null,(0,y.BX)("div",{className:"jsx-905672075 content-container",children:[(0,y.BX)(v.Ug,{wrap:"nowrap",justify:"space-between",spacing:1,children:[ge?(0,y.tZ)(te.Z,{username:ge.username,children:(0,y.tZ)(ee.ZP,{user:ge,children:(0,y.tZ)("a",{className:"jsx-905672075",children:(0,y.tZ)(re.Z,{username:ge.username,src:ge.image,size:32})})})}):null,(0,y.BX)("div",{className:"jsx-905672075 content",children:[(0,y.BX)(v.gC,{spacing:"8px",align:"stretch",children:[(0,y.BX)(v.Ug,{wrap:"nowrap",align:"center",spacing:"4px",children:[ge?(0,y.tZ)(te.Z,{inline:!0,username:ge.username,children:(0,y.tZ)(ee.ZP,{user:ge,children:(0,y.tZ)("a",{className:"jsx-905672075",children:ge.username})})}):null,Be?(0,y.tZ)(R.Z,{size:"small",foreground:2,children:"shared this Repl"}):null,(0,y.tZ)(R.Z,{foreground:3,size:"xsmall",children:(new Date).getTime()-new Date(be).getTime()<1e3?"just now":(0,D.F)(be)})]}),he?(0,y.tZ)(O,{ref:Oe,ctaText:"Save ".concat(Be?"post":"comment"),userSearch:Z,placeholder:"Edit ".concat(Be?"post":"comment","..."),initialValue:h.body,hasTitle:Boolean(null===Be||void 0===Be?void 0:Be.title),initialTitleValue:(null===Be||void 0===Be?void 0:Be.title)||void 0,onCancel:function(){return me(!1)},onSubmit:function(e){var t=e.title,r=e.body;t&&Be&&Se({variables:{input:{id:Be.id,title:t}},optimisticResponse:{updatePost:{post:ve(ve({},Be),{},{title:t})}}}),Ne({variables:{input:{id:h.id,body:r}},optimisticResponse:{updateReplComment:ve(ve({__typename:"ReplComment"},h),{},{body:r})}}),me(!1)},autoFocus:!0,isLoading:Te.loading||Re.loading}):(0,y.BX)(y.HY,{children:[null!==(i=h.post)&&void 0!==i&&i.title?(0,y.tZ)(M,{title:h.post.title}):null,(0,y.tZ)(B.Z,{source:h.body})]})]}),(0,y.BX)("footer",{className:"jsx-905672075",children:[null!==ue&&I?(0,y.tZ)(S,{userSearch:Z,placeholder:ue?"Reply to ".concat(ue):"Reply",autoFocus:!0,replId:k,replCommentId:C,onCancel:function(){return de(null)},onCreate:function(){P(),de(null)},initialValue:ue}):null,null===ue?(0,y.tZ)("div",{className:"jsx-905672075 footer-actions",children:(0,y.BX)(v.Ug,{spacing:"2px",children:[I&&U?(0,y.tZ)("div",{className:"jsx-905672075",children:(0,y.tZ)(g.Z,{size:"small",color:"primary",filled:!1,border:!1,onClick:function(){var e=h.user&&h.user.id!==I.id?[h.user.username]:[];null!==X&&void 0!==X&&X.username&&X.id!==I.id&&!e.includes(X.username)&&e.unshift(X.username),de(e.map((function(e){return"@".concat(e)})).join(" ")+" ")},children:"Reply"})}):null,j>0?(0,y.tZ)("div",{className:"jsx-905672075 replies-toogle",children:(0,y.tZ)(g.Z,{size:"small",border:!1,filled:!1,onClick:x,children:(0,y.BX)(v.Ug,{wrap:"nowrap",align:"center",spacing:"2px",children:[(0,y.BX)("div",{className:"jsx-905672075",children:[w?"Hide":"View"," ",j," ",1===j?"reply":"replies"]}),(0,y.tZ)("div",{className:"jsx-905672075 "+(m()("toggle-icon",{"replies-expanded":w})||""),children:(0,y.tZ)(A.Z,{size:12})})]})})}):null,null!==(a=h.post)&&void 0!==a&&a.canPin||null!==(s=h.post)&&void 0!==s&&s.canChangeBoard||null!==(u=h.post)&&void 0!==u&&u.canHide?(0,y.tZ)("div",{className:"jsx-905672075",children:(0,y.tZ)(g.Z,{size:"small",filled:!1,border:!1,onClick:function(){Q(!Y)},children:"Settings"})}):null,null!==(p=h.post)&&void 0!==p&&p.canReport?(0,y.tZ)("div",{className:"jsx-905672075",children:(0,y.tZ)(g.Z,{size:"small",filled:!1,border:!1,onClick:function(){ae(!0)},children:"Report"})}):null,null!==(f=h.post)&&void 0!==f&&f.hasReported?(0,y.tZ)("div",{className:"jsx-905672075",children:(0,y.tZ)(g.Z,{disabled:!0,size:"small",filled:!1,border:!1,children:"Reported"})}):null]})}):null,Y&&h.post?(0,y.tZ)("div",{className:"jsx-905672075 repl-post-settings",children:(0,y.tZ)(J,{postId:h.post.id})}):null]})]}),ke.length?(0,y.tZ)("div",{className:"jsx-905672075 actions",children:(0,y.tZ)(_.Z,{onOpenChange:F,items:ke,onItemClick:function(e){switch(e.label){case"Edit":return void me(!0);case"Delete":b(h)}}})}):null]}),(0,y.tZ)(E.Z,{isOpen:oe,onRequestClose:function(){return ae(!1)},children:h.post?(0,y.tZ)(ce,{postId:h.post.id,onDone:function(){return ae(!1)}}):null})]}),(0,y.tZ)(d.default,{id:"905672075",children:[".comment-item.jsx-905672075{position:relative;padding:var(--space-8);}",".repl-post-settings.jsx-905672075{padding:var(--space-8) 0;}",".content-container.jsx-905672075{position:relative;}",".highlight.jsx-905672075{opacity:0;position:absolute;background-color:var(--accent-primary-dimmest);z-index:0;top:0;left:0;width:100%;height:100%;border-radius:var(--border-radius-4);pointer-events:none;-webkit-animation:fadeInOut-jsx-905672075 2s ease-in 500ms forwards;animation:fadeInOut-jsx-905672075 2s ease-in 500ms forwards;}","@-webkit-keyframes fadeInOut-jsx-905672075{0%{opacity:0;}5%{opacity:1;}85%{opacity:1;}100%{opacity:0;}}","@keyframes fadeInOut-jsx-905672075{0%{opacity:0;}5%{opacity:1;}85%{opacity:1;}100%{opacity:0;}}","a.jsx-905672075{font-size:var(--font-size-default);color:var(--foreground-default);font-weight:var(--font-weight-medium);-webkit-text-decoration:none !important;text-decoration:none !important;-webkit-transition:color 0.2s;transition:color 0.2s;}","a.jsx-905672075:hover{color:var(--accent-primary-default);}",".actions.jsx-905672075{position:relative;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;opacity:0;}",".comment-item.jsx-905672075:focus-within .actions.jsx-905672075,.comment-item.jsx-905672075:hover .actions.jsx-905672075,.is-action-menu-open.jsx-905672075 .actions.jsx-905672075,.is-touch-device .actions.jsx-905672075{opacity:1;}",".content.jsx-905672075{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}",".comment-item.jsx-905672075 .rendered-markdown{background:unset;font-size:var(--font-size-default);}",".comment-item.jsx-905672075 .rendered-markdown pre{padding:var(--space-4) !important;}",".comment-item.jsx-905672075 .rendered-markdown pre,.comment-item.jsx-905672075 .rendered-markdown pre code{background-color:var(--background-default);}","footer.jsx-905672075{position:relative;padding-top:var(--space-4);}",".replies-toogle.jsx-905672075{opacity:0.7;}",".toggle-icon.jsx-905672075{-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg);}",".toggle-icon.replies-expanded.jsx-905672075{-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);}",".replies-toogle.jsx-905672075:hover{opacity:1;}",".footer-actions.jsx-905672075{position:relative;left:calc(var(--space-4) * -1);}"]})]})}function be(e){var t=e.comment,r=e.onDelete,n=e.userSearch,i=e.replies,a=e.replId,c=e.refetch,s=e.linkedToCommentId,u=e.currentUser,p=e.areCommentsEnabled,f=l.useState((function(){return!!s&&(t.id===s||i.some((function(e){return e.id===s})))})),h=(0,o.Z)(f,2),m=h[0],g=h[1];return(0,y.BX)(V.Z,{css:[F.l0.borderRadius(8),"",""],elevated:Boolean(t.post),children:[(0,y.tZ)(ge,{onReply:function(){c(),g(!0)},replId:a,replyCount:i.length,repliesExpanded:m,onRepliesToggle:function(){return g(!m)},userSearch:n,comment:t,replyToId:t.id,onDelete:r,linkedToCommentId:s,currentUser:u,parentAuthor:null,areCommentsEnabled:p}),m&&i.length>0?(0,y.tZ)("div",{className:"jsx-1889986635 replies",children:(0,y.tZ)(v.gC,{spacing:2,align:"stretch",children:i.map((function(e){return(0,y.tZ)("div",{className:"jsx-1889986635",children:(0,y.tZ)(ge,{currentUser:u,linkedToCommentId:s,onReply:c,replId:a,userSearch:n,onDelete:r,comment:e,replyToId:t.id,replyCount:0,repliesExpanded:!1,onRepliesToggle:function(){return null},parentAuthor:t.user||null,areCommentsEnabled:p})},e.id)}))})}):null,(0,y.tZ)(d.default,{id:"1889986635",children:[".replies.jsx-1889986635{padding-left:var(--space-48);}"]})]})}function Ze(e){var t,r=e.replId,i=(0,X.useRouter)().query,s=l.useState(!1),p=(0,o.Z)(s,2),h=p[0],m=p[1],g=(0,T.Z)(),b=g.showConfirm,Z=g.showError,x=(0,c.ex8)({variables:{replId:r,after:i.after?i.after.toString():void 0}}),w=x.data,j=x.loading,k=x.fetchMore,O=x.refetch,C=i.c?Number(i.c):void 0,S=l.useState(null),R=(0,o.Z)(S,2),D=R[0],B=R[1],_=(0,c.cqY)({onCompleted:function(e){"UserError"===e.deleteReplComment.__typename?Z(e.deleteReplComment.message):"ReplComment"===e.deleteReplComment.__typename&&(b("Comment deleted"),O(),B(null))},onError:function(e){return Z(e.message)}}),A=(0,o.Z)(_,1)[0],L="Repl"===(null===w||void 0===w?void 0:w.repl.__typename)?w.repl:null,V=null===w||void 0===w?void 0:w.currentUser,z=null===L||void 0===L||!L.commentSettings||L.commentSettings.enabled,F=l.useMemo((function(){var e;return(null===L||void 0===L||null===(e=L.comments)||void 0===e?void 0:e.items)||[]}),[null===L||void 0===L?void 0:L.comments.items]),W=null===L||void 0===L||null===(t=L.comments)||void 0===t?void 0:t.pageInfo,M=l.useMemo((function(){var e;if(!L)return[];var t="User"===(null===(e=L.owner)||void 0===e?void 0:e.__typename)?(0,a.Z)({},L.owner.username,L.owner):{};return L.comments.items.forEach((function(e){e.user&&(t[e.user.username]=e.user),e.replies&&e.replies.forEach((function(e){null!==e&&void 0!==e&&e.user&&(t[e.user.username]=e.user)}))})),L.multiplayers.forEach((function(e){t[e.username]=e})),V&&delete t[V.username],Object.values(t)}),[L,V]),G=(0,I.useApolloClient)(),H=l.useCallback(function(){var e=(0,u.Z)(f().mark((function e(t){var r,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.query.toLowerCase(),!((n=M.filter((function(e){var t;return!r||e.username.toLowerCase().includes(r)||(null===(t=e.fullName)||void 0===t?void 0:t.toLowerCase().includes(r))}))).length<t.limit&&t.query)){e.next=7;break}return e.next=5,G.query({query:c.RaF,variables:t});case 5:e.sent.data.usernameSearch.forEach((function(e){n.some((function(t){return t.username===e.username}))||n.push(e)}));case 7:return e.abrupt("return",n.slice(0,t.limit));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[G,M]);return(0,y.BX)(y.HY,{children:[(0,y.BX)(v.gC,{spacing:3,align:"stretch",children:[(0,y.BX)(v.gC,{spacing:2,align:"stretch",children:[L?(0,y.tZ)(he,{repl:L}):null,V&&z?(0,y.tZ)(P,{onCreate:function(){return O()},placeholder:L?"Say something about ".concat(L.title):"",replId:r,onCancel:function(){return null},userSearch:H}):null,V||j?null:(0,y.BX)("div",{className:"jsx-3776558785 auth-cta",children:[(0,y.tZ)("button",{onClick:function(){return m(!0)},className:"jsx-3776558785",children:"Sign up"})," ","to comment",(0,y.tZ)(E.Z,{isOpen:h,onRequestClose:function(){m(!1)},children:(0,y.tZ)(U.Z,{onSuccess:function(){window.location.reload()},source:"comment"})})]})]}),F.map((function(e){return(0,y.tZ)(be,{linkedToCommentId:C,refetch:O,replId:r,replies:e.replies,comment:e,onDelete:B,userSearch:H,currentUser:V||null,areCommentsEnabled:z},e.id)})),null!==W&&void 0!==W&&W.nextCursor&&L?(0,y.tZ)("div",{className:"jsx-3776558785 load-more",children:(0,y.tZ)("a",{href:L.url+"?after="+W.nextCursor,onClick:function(e){e.preventDefault(),j||k({variables:{after:W.nextCursor},updateQuery:function(e,t){if(!t||!t.fetchMoreResult)return e;var r="Repl"===e.repl.__typename?e.repl:null;if(!r)return e;var i=t.fetchMoreResult,o="Repl"===i.repl.__typename?i.repl:null;return o?ve(ve({},i),{},{repl:ve(ve({},o),{},{comments:ve(ve({},o.comments),{},{items:[].concat((0,n.Z)(r.comments.items),(0,n.Z)(o.comments.items))})})}):e}})},className:"jsx-3776558785",children:j?"Loading...":"Load more comments"})}):null]}),(0,y.tZ)(E.Z,{isOpen:null!==D,onRequestClose:function(){return B(null)},children:D?(0,y.tZ)(N.Z,{delete:function(){if(null===D)throw new Error("Expected pendingDelete");A({variables:{id:D.id}})},entityType:D.post?"Post":"Comment",hideModal:function(){return B(null)}}):null}),(0,y.tZ)(d.default,{id:"3776558785",children:[".auth-cta.jsx-3776558785{padding:var(--space-16);border-radius:var(--border-radius-4);background-color:var(--accent-primary-dimmest);}",".auth-cta.jsx-3776558785 button.jsx-3776558785{cursor:pointer;color:var(--accent-primary-default);font-size:inherit;padding:1px 2px;border-radius:var(--border-radius-4);border:0 none;-webkit-transition:0.2s background-color;transition:0.2s background-color;-webkit-text-decoration:none !important;text-decoration:none !important;font-weight:var(--font-weight-medium);background-color:transparent;}",".auth-cta.jsx-3776558785 button.jsx-3776558785:hover{background-color:var(--background-higher);}",".load-more.jsx-3776558785{padding-left:var(--space-48);}",".load-more.jsx-3776558785 a.jsx-3776558785{color:var(--accent-primary-default);font-size:var(--font-size-default);padding:1px 2px;border-radius:var(--border-radius-4);-webkit-transition:0.2s background-color;transition:0.2s background-color;-webkit-text-decoration:none !important;text-decoration:none !important;font-weight:var(--font-weight-medium);}",".load-more.jsx-3776558785 a.jsx-3776558785:hover{background-color:var(--background-higher);}"]})]})}var ye=r(50284),xe=r(55104),we=r(85231),je=r(87293),ke=r(5537),Oe=r(32324),Ce=r(99911),Pe=r(73561),Se=r(41664);function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ee(e){var t=e.repl,r=t.title,n=t.owner;return n?(0,y.BX)("div",{className:"jsx-3156424841 fork-card",children:[(0,y.tZ)(Se.default,De(De({},(0,Ce.aq)(t)),{},{children:(0,y.tZ)("a",{className:"jsx-3156424841 link-blanket"})})),(0,y.BX)("div",{className:"jsx-3156424841 content",children:[(0,y.tZ)("div",{className:"jsx-3156424841 repl-title",children:r}),(0,y.BX)(v.Ug,{wrap:"nowrap",align:"center",spacing:"2px",children:[(0,y.tZ)(Se.default,De(De({},(0,ee.Ru)(n)),{},{children:(0,y.tZ)("a",{onClick:function(e){return e.stopPropagation()},className:"jsx-3156424841",children:(0,y.tZ)(b.Z,{size:"s",url:n.image})})})),(0,y.tZ)(Se.default,De(De({},(0,ee.Ru)(n)),{},{children:(0,y.tZ)("a",{onClick:function(e){return e.stopPropagation()},className:"jsx-3156424841 username",children:n.username})}))]})]}),(0,y.tZ)(d.default,{id:"3156424841",children:[".fork-card.jsx-3156424841{position:relative;padding:var(--space-8);border-radius:var(--border-radius-4);border:1px solid var(--outline-dimmest);background-color:var(--background-default);pointer-events:none;}",".content.jsx-3156424841{position:relative;}",".fork-card.jsx-3156424841 a.jsx-3156424841{pointer-events:all;}",".link-blanket.jsx-3156424841{position:absolute;top:0;left:0;width:100%;height:100%;}",".repl-title.jsx-3156424841{color:var(--accent-primary-default);font-size:var(--font-size-subhead-default);font-weight:bold;padding-bottom:var(--space-4);}",".repl-title.jsx-3156424841,.username.jsx-3156424841{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}",".repl-title.jsx-3156424841{font-weight:var(--font-weight-medium);}","a.jsx-3156424841:hover{-webkit-text-decoration:none;text-decoration:none;}",".username.jsx-3156424841{font-size:var(--font-size-default);color:var(--foreground-dimmer);}","a.username.jsx-3156424841:hover{color:var(--foreground-default);}"]})]}):null}function Ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Be(e){var t=e.replId,r=(0,c.zWW)({variables:{replId:t,count:100}}),i=r.data,o=r.fetchMore,a=r.loading,l="Repl"===(null===i||void 0===i?void 0:i.repl.__typename)?i.repl:null,s=l?l.publicForks:null,u=l?l.publicForkCount:null;return(0,y.BX)("div",{className:d.default.dynamic([["2086705271",[Oe.j.mobileMax]]])+" repl-forks",children:[(0,y.tZ)("div",{className:d.default.dynamic([["2086705271",[Oe.j.mobileMax]]])+" heading",children:(0,y.BX)(v.Ug,{spacing:"4px",children:[null!==u?(0,y.BX)(y.HY,{children:[(0,y.tZ)(R.Z,{fontWeight:"medium",size:"medium",children:u}),(0,y.tZ)(R.Z,{foreground:2,size:"medium",children:1!==u?"forks":"fork"})]}):null,a?(0,y.tZ)(R.Z,{foreground:3,fontWeight:"medium",size:"medium",children:"Loading forks..."}):null]})}),(0,y.BX)("div",{className:d.default.dynamic([["2086705271",[Oe.j.mobileMax]]]),children:[(0,y.tZ)("div",{className:d.default.dynamic([["2086705271",[Oe.j.mobileMax]]])+" forks-list",children:s?s.items.map((function(e){return(0,y.tZ)("div",{className:d.default.dynamic([["2086705271",[Oe.j.mobileMax]]])+" fork-card",children:(0,y.tZ)(Ee,{repl:e})},e.id)})):null}),(0,y.tZ)("div",{className:d.default.dynamic([["2086705271",[Oe.j.mobileMax]]]),children:null!==s&&void 0!==s&&s.pageInfo.nextCursor?(0,y.tZ)(g.Z,{disabled:a,border:!1,color:"primary",filled:!1,fullWidth:!0,onClick:function(){a||o({variables:{after:s.pageInfo.nextCursor},updateQuery:function(e,t){if(!t||!t.fetchMoreResult)return e;var r="Repl"===e.repl.__typename?e.repl:null;if(!r)return e;var i=t.fetchMoreResult,o="Repl"===i.repl.__typename?i.repl:null;return o?Te(Te({},i),{},{repl:Te(Te({},o),{},{publicForks:Te(Te({},o.publicForks),{},{items:[].concat((0,n.Z)(r.publicForks.items),(0,n.Z)(o.publicForks.items))})})}):e}})},children:a?"Loading...":"Load more"}):null})]}),(0,y.tZ)(d.default,{id:"2086705271",dynamic:[Oe.j.mobileMax],children:[".repl-forks.__jsx-style-dynamic-selector{padding:var(--space-16);overflow-y:auto;height:500px;}",".heading.__jsx-style-dynamic-selector{padding:var(--space-8) 0;}",".forks-list.__jsx-style-dynamic-selector{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:var(--space-16);padding-bottom:var(--space-16);}","@media screen and (min-width:".concat(Oe.j.mobileMax,"px){.forks-list.__jsx-style-dynamic-selector{grid-template-columns:repeat(2,minmax(0,1fr));}}")]})]})}var _e=r(7916),Ae=r(72413),Ie=r(51276),Xe=r(61850),Ue=r(97231);function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ze=(0,z.K)("a"),Fe={template:{background:F.TV.yellowDimmest,foreground:F.TV.yellowStrongest},app:{background:F.TV.accentPrimaryDimmest,foreground:F.TV.accentPrimaryStrongest}};function We(e){var t=e.colorway,r=e.text;return(0,y.tZ)(z.Z,{css:[{backgroundColor:t.background},F.l0.borderRadius(8),F.l0.px(4),F.l0.py(2),"",""],children:(0,y.tZ)(z.Z,{css:[{color:t.foreground,fontSize:F.TV.fontSizeSmall},"",""],children:r})})}var Me={name:"1i7zuxv",styles:"&& > .rendered-markdown{background-color:transparent;}"};function Ge(e){var t,r,n,i,o,a,l=e.repl,s=(0,Xe.Z)("flag-posts-feed-v2"),u=l.owner,d=l.lastPublishedAt||(null===(t=l.deployment)||void 0===t||null===(r=t.activeRelease)||void 0===r?void 0:r.timeCreated);return(0,y.BX)(z.Z,{css:[F.l0.colWithGap(32),"",""],children:[(0,y.BX)(z.Z,{css:[F.l0.colWithGap(16),"",""],children:[(0,y.tZ)(z.Z,{css:[F.l0.rowWithGap(8),F.l0.align.start,"",""],children:(0,y.BX)(z.Z,{css:[F.l0.colWithGap(8),F.l0.flex.growAndShrink(1),"",""],children:[(0,y.tZ)(z.Z,{css:[F.l0.rowWithGap(8),F.l0.align.center,"",""],children:u?(0,y.tZ)(te.Z,{inline:!0,username:u.username,children:(0,y.tZ)(ee.ZP,{user:u,children:(0,y.tZ)(ze,{css:[F.l0.color.foregroundDefault,"",""],children:(0,y.tZ)(Ie.Z,{username:u.username,src:(null===u||void 0===u?void 0:u.image)||null})})})}):(0,y.tZ)(Ie.Z,{small:!0,src:null,username:"[deleted]"})}),(0,y.BX)(z.Z,{css:[F.l0.rowWithGap(8),F.l0.align.center,"",""],children:[l.publishedAs===c.O2h.Template?(0,y.tZ)(We,{colorway:Fe.template,text:"Template"}):null,l.publishedAs===c.O2h.App?(0,y.tZ)(We,{colorway:Fe.app,text:"App"}):null,d?(0,y.BX)(L.x,{color:"dimmer",variant:"small",children:["Published on"," ",new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]}):null,(null===(n=l.source)||void 0===n||null===(i=n.deployment)||void 0===i||null===(o=i.repl)||void 0===o?void 0:o.owner)&&(0,y.BX)(L.x,{color:"dimmer",variant:"small",children:["Made with"," ",(0,y.tZ)(Se.default,Ve(Ve({},(0,Ce.aq)(l.source.deployment.repl)),{},{children:(0,y.tZ)("a",{children:l.source.deployment.repl.templateLabel})}))]}),null!==(a=l.origin)&&void 0!==a&&a.owner?(0,y.BX)(L.x,{color:"dimmer",variant:"small",children:["Forked from"," ",(0,y.tZ)(ee.ZP,{user:l.origin.owner,children:(0,y.tZ)("a",{children:l.origin.owner.username})}),"/",(0,y.tZ)(Se.default,Ve(Ve({},(0,Ce.aq)(l.origin)),{},{children:(0,y.tZ)("a",{children:l.origin.title})}))]}):null]})]})}),l.tags.length?(0,y.tZ)(z.Z,{children:(0,y.tZ)(z.Z,{css:[{flexWrap:"wrap",margin:"calc(".concat(F.TV.space4," * -1)")},F.l0.flex.row,"",""],children:l.tags.map((function(e){var t=s?(0,Ue.M6)(e.id):{href:{pathname:"/apps/tag",query:{tag:e.id}},as:"/apps/".concat(e.id)};return(0,y.tZ)(Se.default,{href:t.href,as:t.as,children:(0,y.tZ)("a",{css:[{margin:F.TV.space4},""],children:(0,y.tZ)(Ae.Z,{text:"#"+e.id})})},e.id)}))})}):null,l.description?(0,y.tZ)(_e.Z,{children:(0,y.tZ)(z.Z,{css:Me,children:(0,y.tZ)(B.Z,{source:l.description})})}):(0,y.tZ)(L.x,{color:"dimmest",children:"This repl has no description"})]}),(0,y.tZ)(z.Z,{css:[{borderBottom:"1px solid ".concat(F.TV.outlineDefault)},"",""]})]})}var He=r(80718),qe=r(46256);function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ye(e){return(0,y.BX)(z.Z,{css:[F.l0.rowWithGap(4),F.l0.flex.growAndShrink(1),"",""],children:[(0,y.tZ)(ie.ZP,{colorway:e.colorway,iconLeft:e.icon,stretch:!0,onClick:e.onClick,text:e.text,css:[F.l0.flex.growAndShrink(1),F.l0.borderRadius(8,4,4,8),"",""]}),(0,y.tZ)(ie.ZP,{colorway:e.colorway,onClick:e.onCountClick,text:(0,He.d)(e.count),css:[F.l0.borderRadius(4,8,8,4),"",""]})]})}var Qe,Je,et,tt=function(e){return"@media (max-width: ".concat(e,"px)")},rt={mobile:tt(Oe.j.tabletMin),small:(Je=Oe.j.tabletMin+1,et=Oe.j.tabletMax,"@media (min-width: ".concat(Je,"px) and (max-width: ").concat(et,"px)")),smallAndMobile:tt(Oe.j.tabletMax),desktop:(Qe=Oe.j.tabletMax+1,"@media (min-width: ".concat(Qe,"px)"))},nt=function(e){return{name:e,gridArea:(0,i.iv)({gridArea:e},"","")}},it={header:nt("header"),cta:nt("cta"),main:nt("main"),secondary:nt("secondary"),auxiliary:nt("auxiliary")},ot={mobile:(0,i.iv)({gridTemplateAreas:'\n      "'.concat(it.header.name,'"\n      "').concat(it.cta.name,'"\n      "').concat(it.main.name,'"\n      "').concat(it.auxiliary.name,'"\n      "').concat(it.secondary.name,'"\n      ')},"",""),small:(0,i.iv)({gridTemplateColumns:"1fr auto auto 25%",gridTemplateRows:"auto",gridTemplateAreas:'\n      "'.concat(it.header.name," ").concat(it.header.name," ").concat(it.cta.name," ").concat(it.cta.name,'"\n      "').concat(it.main.name," ").concat(it.main.name," ").concat(it.main.name," ").concat(it.main.name,'"\n      "').concat(it.secondary.name," ").concat(it.secondary.name," ").concat(it.secondary.name," ").concat(it.auxiliary.name,'"\n      ')},"",""),desktop:(0,i.iv)({columnGap:F.TV.space32,alignItems:"baseline",gridTemplateColumns:"1fr 25%",gridTemplateRows:"auto auto auto auto 1fr",gridTemplateAreas:'\n      "'.concat(it.header.name," ").concat(it.cta.name,'"\n      "').concat(it.main.name," ").concat(it.cta.name,'"\n      "').concat(it.main.name," ").concat(it.auxiliary.name,'"\n      "').concat(it.main.name," ").concat(it.auxiliary.name,'"\n      "').concat(it.secondary.name," ").concat(it.auxiliary.name,'"\n      ')},"","")},at=function(e){var t,r=e.withSidebar;return(0,i.iv)([F.l0.px(16),F.l0.py(32),(t={maxWidth:1200,margin:"0 auto",display:"grid",gap:F.TV.space16},(0,a.Z)(t,rt.mobile,ot.mobile),(0,a.Z)(t,rt.small,[F.l0.px(16),ot.small]),(0,a.Z)(t,rt.desktop,[F.l0.px(32),F.l0.py(64),r?ot.desktop:ot.small]),t)],"","")};function lt(e){var t=e.repl;return(0,y.BX)(z.Z,{css:[F.l0.rowWithGap(8),F.l0.align.center,"",""],children:[(0,y.tZ)(xe.Z,{alt:t.title,size:32,iconUrl:t.iconUrl}),(0,y.tZ)(L.h,{variant:"headerBig",level:1,css:[F.l0.flex.growAndShrink(1),"word-break:break-all;",""],children:t.title})]})}function ct(e){var t,r,n,s=e.repl,u=e.isLoggedIn,d=l.useState(!1),p=(0,o.Z)(d,2),f=p[0],h=p[1],m=l.useState(!1),v=(0,o.Z)(m,2),g=v[0],b=v[1],Z=(0,Pe.Z)(),x=(0,o.Z)(Z,2),w=x[0],j=x[1].loading,k=s.currentUserPermissions.containerWrite?(0,y.tZ)(ie.ZP,$e({colorway:"primary",iconLeft:(0,y.tZ)(ke.Z,{}),stretch:!0,text:"Edit in workspace"},(0,Ce.aq)(s))):null;function O(){var e,t;u?j||w({originId:s.id,replReleaseId:(null===(e=s.deployment)||void 0===e||null===(t=e.activeRelease)||void 0===t?void 0:t.id)||void 0,trackingData:{forkSource:"replViewHeader",isApp:s.publishedAs===c.O2h.App,isTemplate:s.publishedAs===c.O2h.Template}}):b(!0)}var C=s.publishedAs===c.O2h.Template?{text:j?"Creating...":"Use Template",icon:(0,y.tZ)(we.Z,{}),count:s.publicReleasesForkCount}:{text:j?"Forking...":"Fork repl",icon:(0,y.tZ)(je.Z,{}),count:s.publicForkCount},P=(0,y.tZ)(Ye,$e($e({},C),{},{onClick:O,icon:(0,y.tZ)(je.Z,{}),colorway:null===k?"primary":void 0,onCountClick:function(){return h(!0)}})),S=(0,y.tZ)(E.Z,{isOpen:f,onRequestClose:function(){return h(!1)},children:(0,y.tZ)(Be,{replId:s.id})});return k?(0,y.BX)(y.HY,{children:[(0,y.BX)(z.Z,{css:[(t={},(0,a.Z)(t,rt.smallAndMobile,[F.l0.flex.row,{flexDirection:"row-reverse"}]),(0,a.Z)(t,rt.desktop,F.l0.colWithGap(8)),t),"",""],children:[(0,y.tZ)(z.Z,{css:(0,i.iv)((r={},(0,a.Z)(r,rt.mobile,[F.l0.width("50%")]),(0,a.Z)(r,rt.smallAndMobile,[F.l0.pl(4)]),r),"",""),children:k}),(0,y.tZ)(z.Z,{css:(0,i.iv)((n={},(0,a.Z)(n,rt.mobile,[F.l0.width("50%")]),(0,a.Z)(n,rt.smallAndMobile,[F.l0.pr(4)]),n),"",""),children:P})]}),S]}):(0,y.BX)(y.HY,{children:[P,(0,y.tZ)(E.Z,{isOpen:g,onRequestClose:function(){b(!1)},children:(0,y.tZ)(U.Z,{title:"Sign up or log in to fork this repl",onSuccess:function(){return O()},source:"fork"})}),S]})}function st(e){var t=e.title,r=e.withSidebar,i=void 0===r||r;return(0,y.tZ)(z.Z,{css:[F.l0.flex.row,F.l0.flex.growAndShrink(1),"",""],children:(0,y.BX)(z.Z,{css:[F.l0.p(16),F.l0.flex.growAndShrink(1),at({withSidebar:i}),"",""],children:[(0,y.BX)(z.Z,{css:[it.header.gridArea,F.l0.rowWithGap(8),F.l0.align.center,"",""],children:[(0,y.tZ)(V.Z,{elevated:!0,css:[F.l0.width(32),F.l0.height(32),F.l0.borderRadius("full"),"",""]}),(0,y.tZ)(L.h,{color:"dimmest",variant:"headerBig",level:1,css:[F.l0.flex.growAndShrink(1),"word-break:break-all;",""],children:t||"Loading..."})]}),(0,y.tZ)(z.Z,{css:[it.cta.gridArea,"",""],children:(0,y.tZ)(ie.ZP,{disabled:!0,text:" "})}),(0,y.tZ)(z.Z,{css:[it.main.gridArea,F.l0.colWithGap(16),"",""],children:(0,y.tZ)(V.Z,{elevated:!0,css:[F.l0.height(500),F.l0.borderRadius(8),"",""]})}),(0,y.tZ)(z.Z,{css:[it.auxiliary.gridArea,F.l0.colWithGap(16),"",""],children:(0,y.BX)(z.Z,{css:F.l0.colWithGap(16),children:[(0,y.tZ)(L.x,{color:"dimmest",variant:"subheadDefault",children:"Loading..."}),(0,y.tZ)(z.Z,{css:F.l0.colWithGap(16),children:(0,n.Z)(Array(3)).map((function(e,t){return(0,y.tZ)(V.Z,{elevated:!0,css:[F.l0.height(100),F.l0.borderRadius(8),""]},t.toString())}))})]})}),(0,y.tZ)(z.Z,{css:[it.secondary.gridArea,"",""]})]})})}var ut={name:"1uhx80p",styles:"height:500px;> *{height:100%;}"};function dt(e){var t=e.repl,r=e.currentUser,n=e.withSidebar,i=void 0===n||n;return l.useEffect((function(){r&&!t.currentUserPermissions.containerWrite&&(0,C.track)(C.events.REPL_GUEST_VIEW,{page:"replView"})}),[r,t.currentUserPermissions.containerWrite]),(0,y.tZ)(z.Z,{css:[F.l0.flex.row,F.l0.flex.growAndShrink(1),"",""],children:(0,y.BX)(z.Z,{css:[F.l0.p(16),F.l0.flex.growAndShrink(1),at({withSidebar:i}),"",""],children:[(0,y.tZ)(z.Z,{css:[it.header.gridArea,"",""],children:(0,y.tZ)(lt,{repl:t})}),(0,y.tZ)(z.Z,{css:[it.cta.gridArea,"",""],children:(0,y.tZ)(ct,{repl:t,isLoggedIn:Boolean(r)})}),(0,y.BX)(z.Z,{css:[it.main.gridArea,F.l0.colWithGap(16),"",""],children:[(0,y.tZ)(z.Z,{css:ut,children:(0,y.tZ)(s.Z,{repl:t,currentUser:r})}),(0,y.tZ)(Ge,{repl:t})]}),(0,y.tZ)(z.Z,{css:[it.auxiliary.gridArea,F.l0.colWithGap(16),"",""],children:t.relatedRepls.map((function(e){var t=e.name,r=e.repls;return(0,y.BX)(z.Z,{css:F.l0.colWithGap(16),children:[(0,y.tZ)(L.x,{variant:"subheadDefault",children:t}),(0,y.tZ)(z.Z,{css:F.l0.colWithGap(16),children:r.map((function(e){return e.publishedAs===c.O2h.Template?(0,y.tZ)(qe.Z,{repl:e},e.id):e.publishedAs===c.O2h.App?(0,y.tZ)(ye.ZP,{showDialogOnClick:!1,repl:e,small:!0},e.id):null}))})]})}))}),(0,y.tZ)(z.Z,{css:[it.secondary.gridArea,"",""],children:(0,y.tZ)(Ze,{replId:t.id})})]})})}},7916:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(79056),i=r(67294),o=r(49512),a=r(82457),l=r(55412),c=r(61909),s=r(70917),u=r(35944);var d=(0,s.iv)([a.l0.py(8),a.l0.rowWithGap(4),{textTransform:"uppercase",cursor:"pointer",fontSize:a.TV.fontSizeSmall,fontWeight:a.TV.fontWeightMedium,border:"0 none",outline:"0",width:"100%",backgroundColor:a.TV.backgroundRoot,textAlign:"left",color:a.TV.foregroundDimmest,":hover":{color:a.TV.foregroundDefault}}],"",""),p=(0,o.K)("div"),f={name:"bjn8wh",styles:"position:relative"};function h(e){var t=e.children,r=i.useState(!0),a=(0,n.Z)(r,2),s=a[0],h=a[1],m=i.useState(!0),v=(0,n.Z)(m,2),g=v[0],b=v[1],Z=(0,c.Z)((function(e){var t=e.height;void 0!==t&&h(t>56)}));return(0,u.BX)(o.Z,{css:f,children:[(0,u.tZ)(o.Z,{css:[g&&s&&{height:56,overflow:"hidden"},"",""],children:(0,u.tZ)(p,{ref:Z,children:t})}),s?(0,u.BX)(o.Z,{tag:"button",onClick:function(){return b(!g)},css:[d,g&&{position:"absolute",bottom:0,left:0},"",""],children:[(0,u.BX)(o.Z,{children:["Show ",g?"more":"less"," "]}),(0,u.tZ)(l.Z,{rotate:g?0:180})]}):null]})}},8464:function(e,t,r){"use strict";r.d(t,{G:function(){return Z},Z:function(){return y}});var n=r(92809),i=r(79056),o=(r(67294),r(70917)),a=r(45187),l=r(49512),c=r(23577),s=r(223),u=r(82457),d=r(38934),p=r(30281),f=r(70565),h=r(14900),m=r(80718),v=r(35944);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Z=(0,o.iv)([p.gU.filled,u.l0.p(8),{width:"auto",height:"auto"}],"","");function y(e){var t=e.repl,r=e.currentUser,n=e.surface,o=void 0===n||n,p=(0,a.lUA)(),g=(0,i.Z)(p,2),y=g[0],x=g[1].loading;var w=(0,v.BX)(v.HY,{children:[null!==r&&void 0!==r&&r.isVerified?(0,v.tZ)(f.Z,{alt:t.currentUserDidLike?"Unlike":"Like",css:o&&Z,disabled:x,onClick:function(){t.currentUserDidLike||(0,d.track)(d.events.REACTED_TO_REPL,{replView:"https://replit.com"+t.url,reaction:"heart",isReplTalk:!1,item:"repl"}),y({variables:{input:{replId:t.id}},optimisticResponse:{toggleReplLike:b(b({},t),{},{likeCount:Math.max(0,t.likeCount+(t.currentUserDidLike?-1:1)),currentUserDidLike:!t.currentUserDidLike})}})},children:(0,v.tZ)(c.Z,{filled:t.currentUserDidLike})}):null,r&&!r.isVerified?(0,v.tZ)(f.Z,{alt:"Verify your email to like",css:o&&Z,disabled:!0,children:(0,v.tZ)(c.Z,{})}):null,r?null:(0,v.tZ)(f.Z,{alt:"Login to like",css:o&&Z,disabled:!0,children:(0,v.tZ)(c.Z,{})})]});return(0,v.BX)(l.Z,{css:[u.l0.rowWithGap(8),u.l0.align.center,"",""],children:[t.likeCount>0?(0,v.tZ)(s.x,{children:(0,m.d)(t.likeCount)}):null,o?(0,v.tZ)(h.Z,{background:"default",css:[u.l0.borderRadius(8),"",""],children:w}):(0,v.tZ)(l.Z,{children:w})]})}},83272:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});r(67294);var n=r(7736),i=r(82558),o=r.n(i),a=r(63732),l=r(19196),c=r(56703),s=r(35944);function u(e){var t=e.source;return(0,s.tZ)(n.Z,{source:t,skipHtml:!0,unwrapDisallowed:!0,allowedTypes:["link","linkReference","text","code","inlineCode","strong","emphasis","paragraph","list","image"],renderers:{code:l.Z,linkReference:a.NY,link:a._,list:a.xe,image:a.zg},plugins:[c.markdownMentionPlugin,o()]})}},49975:function(e,t,r){"use strict";r.d(t,{Z:function(){return lt}});var n=r(92809),i=r(70917),o=r(67294),a=r(45187),l=r(14900),c=r(82457),s=r(49512),u=r(17513),d=r(38708),p=r(223),f=r(79056),h=r(37813),m=r(46348),v=r(96915),g=r(45971),b=r(30825),Z=r(70565),y=r(33058),x=r(50573),w=r(38934),j=r(35944);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C={name:"1b4920d",styles:"position:absolute;top:0;left:0;width:100%;height:100%"};function P(e){var t=e.src,r=e.alt;return(0,j.BX)(s.Z,{css:[C,"border-bottom-left-radius:8px;border-bottom-right-radius:8px;overflow:hidden;",""],children:[(0,j.tZ)(y.Z,{objectFit:"cover",layout:"fill",src:t,alt:r}),(0,j.tZ)(s.Z,{css:[C,"background:radial-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.6));background-repeat:no-repeat;",""]})]})}function S(e){var t=e.onClick;return(0,j.tZ)(s.Z,{onClick:function(){(0,w.track)(w.events.RUN_BUTTON_CLICKED,{context:"replView",overlay:!0}),t()},css:[C,c.l0.center,{":hover > svg":{transform:"scale(1.2)"},"> svg":{transition:"transform 200ms",width:64,height:"auto",cursor:"pointer",filter:c.TV.shadowDefault}},"",""],children:(0,j.tZ)(d.Z,{filled:!0,color:c.TV.white})})}function R(e){var t=e.isPublished,r=e.onChangeClick,n=e.onRemoveClick,i=o.useState(!1),a=(0,f.Z)(i,2),l=a[0],d=a[1];return(0,j.BX)(s.Z,{css:[c.l0.rowWithGap(8),c.l0.align.center,"",""],children:[(0,j.tZ)(u.ZP,{onClick:function(e){e.stopPropagation(),r()},text:"Change image"}),t?(0,j.tZ)(Z.Z,{alt:"Cannot remove cover image of a published repl",disabled:!0,colorway:"negative",children:(0,j.tZ)(m.Z,{})}):null,t?null:(0,j.tZ)(s.Z,{children:(0,j.tZ)(Z.Z,{alt:"Remove Image",colorway:"negative",onClick:function(){d(!0)},children:(0,j.tZ)(m.Z,{})})}),(0,j.tZ)(g.Z,{isOpen:l,onRequestClose:function(){return d(!1)},children:(0,j.tZ)(v.Z,{title:"Remove image",isDestructive:!0,onConfirm:function(){n(),d(!1)},onCancel:function(){return d(!1)},children:"This will remove your repl's cover image. You can always add one back at any time."})})]})}function D(e){var t=e.onClick,r=e.isActive;return(0,j.BX)(s.Z,{css:[c.l0.colWithGap(16),c.l0.center,"",""],children:[(0,j.BX)(s.Z,{css:[c.l0.colWithGap(8),c.l0.center,"",""],children:[(0,j.tZ)(s.Z,{css:["> svg{width:44px;height:auto;}",r&&{color:c.TV.accentPrimaryDefault},"",""],children:(0,j.tZ)(x.Z,{})}),(0,j.tZ)(p.x,{children:"Drag and drop a cover image"})]}),(0,j.tZ)(s.Z,{children:(0,j.tZ)(u.ZP,{onClick:t,colorway:"primary",text:"Or select a file"})})]})}function E(e){var t=e.onClick,r=e.repl,n=o.useRef(null),l=o.useState(null),u=(0,f.Z)(l,2),d=u[0],p=u[1],m=o.useState(r.imageUrl),v=(0,f.Z)(m,2),g=v[0],Z=v[1],y=(0,b.Z)({onUpload:function(e){var t=e.url;w({variables:{input:{id:r.id,imageUrl:t}},optimisticResponse:{updateRepl:{__typename:"UpdateReplPayload",repl:O(O({},r),{},{imageUrl:t})}}})},onUploadPreview:function(e){var t=e.dataUrl;Z(t)},onError:function(e){p(e.message)}}),x=(0,a.wPL)({onCompleted:function(e){p(null),Z(e.updateRepl.repl.imageUrl)}}),w=(0,f.Z)(x,1)[0],k=r.currentUserPermissions.changeImageUrl;function C(e){if(null!==e&&0!==e.length){var t=e.find((function(e){return e.type.startsWith("image/")}));t?(p(null),y.uploadImage(t)):p("Expected an image file")}}var E=(0,h.Z)(C),N=(0,f.Z)(E,2),T=N[0],B=N[1],_=!g&&k;return(0,j.BX)(s.Z,O(O({css:[c.l0.center,c.l0.flex.growAndShrink(1),!_&&{backgroundColor:c.TV.black},"border-bottom-left-radius:8px;border-bottom-right-radius:8px;position:relative;:hover .image-controls{opacity:1;}",""]},B),{},{children:[g?(0,j.tZ)(P,{src:g,alt:r.title}):null,_?null:(0,j.tZ)(S,{onClick:t}),g&&k?(0,j.BX)(s.Z,{className:"image-controls",css:[{position:"absolute",top:c.TV.space8,right:c.TV.space8,opacity:0,".is-touch-device &":{opacity:1}},"",""],children:[(0,j.tZ)(R,{onChangeClick:function(){var e;null===(e=n.current)||void 0===e||e.click()},onRemoveClick:function(){w({variables:{input:{id:r.id,imageUrl:null}}})},isPublished:Boolean(r.lastPublishedAt)}),d?(0,j.tZ)("div",{className:"error",children:d}):null]}):null,_?(0,j.tZ)(D,{isActive:T,onClick:function(){var e;null===(e=n.current)||void 0===e||e.click()}}):null,k?(0,j.tZ)("input",{css:(0,i.iv)({width:.1,height:.1,opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},"",""),ref:n,accept:"image/*",type:"file",onChange:function(e){var t=e.target,r=t.validity,n=t.files;r.valid&&C(n?Array.from(n):null)}}):null]}))}var N=r(22272),T=r(3342),B=r(20536),_=r(7186),A=r(30266),I=r(809),X=r.n(I),U=r(71371),L=r(11163),V=r(98811),z=r(95610),F=r(80001),W=r(25872),M=r(81493),G=r(48282),H=r(95939),q=r(25108);var K,$=r(96887);function Y(e){var t=e.currentUser,r=e.repl,n=e.initialViewMode,i=void 0===n?K.Output:n,l=o.useState(""),c=(0,f.Z)(l,2),s=c[0],u=c[1],d=(0,o.useState)(T.e.DISCONNECTED),p=d[0],h=d[1],m=(0,o.useState)(B.A.OFFLINE),v=m[0],g=m[1],b=(0,o.useState)(null),Z=b[0],y=b[1],x=(0,o.useRef)(null),j=(0,o.useState)(null),k=j[0],O=j[1],C=(0,o.useState)(!1),P=C[0],S=C[1],R=o.useState(null),D=(0,f.Z)(R,2),E=D[0],N=D[1],I=(0,a.yo9)({variables:{replId:r.id}}),Y=(0,f.Z)(I,1)[0];function Q(){if(x.current)return x.current;var e=function(e){var t=e.setBsodSentryEventId,r=(0,z.Z)({onUnrecoverableError:function(e){e.message.toLowerCase().includes("repl not found")?L.default.push("/home","~/"):U.$e((function(r){r.setTag("bsod","true"),r.setTag("replviewer","true"),q.error(e);var n=U.Tb(e);(0,M.Q)(e,r),t(n)}))}}),n=(0,V.Z)({container:r}),i=(0,W.Z)({container:r}),o=(0,H.Z)({container:r,fs:n}),a=(0,F.Z)({container:r,beforeRun:function(){var e=(0,A.Z)(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,G.Z)(r,o);case 2:if(!e.sent){e.next=5;break}return e.next=5,i.installPackages();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});return{container:r,fs:n,runner:a,dotReplit:o,packager:i}}({setBsodSentryEventId:u});return x.current=e,y(e),e}var J=(0,$.Z)(Q);(0,o.useEffect)((function(){if(i!==K.Output){var e=J.current(),t=e.container,r=e.fs,n=e.dotReplit;O({type:"code",container:t,fs:r,dotReplit:n,path:""})}}),[i,J]),(0,o.useEffect)((function(){Z&&E&&O("server"!==E?{type:"vnc",container:Z.container,fs:Z.fs}:{type:"server",hostedUrl:r.devUrl})}),[Z,E,r.devUrl]),(0,o.useEffect)((function(){p!==T.e.CONNECTED&&N(null)}),[p]);var ee=(0,_.b)({repl:r,currentUser:t}),te=function(e){return!!["html","web_project","kaboom"].includes(e.lang.id)||Boolean(e.config.isServer)}(r);(0,o.useEffect)((function(){if(Z){var e=Z.container,t=Z.runner;e.connect({context:ee});var r=te?[e.close]:[t.onStateChanged(g),e.onConnectionStateChanged(h),e.onPortOpened((function(e){var t=e.isVnc;N(t?"vnc":"server")})),e.close];return function(){r.forEach((function(e){return e()}))}}}),[Z,ee,te]);var re=(0,o.useRef)(!1);return(0,o.useEffect)((function(){v===B.A.IDLE&&(re.current&&(re.current=!1,"terminal"===(null===k||void 0===k?void 0:k.type)&&J.current().runner.run()))}),[v,k,J]),{getFs:function(){return Q().fs},openFile:function(e){var t=Q(),r=t.container,n=t.fs,i=t.dotReplit,o=t.runner;"server"!==(null===k||void 0===k?void 0:k.type)&&"replboxDisplay"!==(null===k||void 0===k?void 0:k.type)||g(B.A.IDLE),O({type:"code",container:r,fs:n,path:e,dotReplit:i}),o.getRunState()===B.A.RUNNING&&o.stopRun()},viewState:k,runRepl:function(){if(S(!1),t&&Y(),(0,w.track)(w.events.REACTED_TO_REPL,{replView:"https://replit.com"+r.url,reaction:"repl_ran",isReplTalk:!1,item:"repl"}),te){var e,n,i=(null===(e=r.deployment)||void 0===e||null===(n=e.activeRelease)||void 0===n?void 0:n.hostedUrl)||r.devUrl;return O({type:"server",hostedUrl:i}),void g(B.A.RUNNING)}if(r.lang.canUseShellRunner){var o=Q(),a=o.container,l=o.fs,c=o.runner,s=o.packager;return O("server"===E?{type:"server",hostedUrl:r.devUrl}:"vnc"===E?{type:"vnc",container:a,fs:l}:{type:"terminal",runner:c,packager:s}),c.getRunState()!==B.A.IDLE?void(re.current=!0):void c.run()}if(r.lang.hasReplboxWebview){var u=Q().fs;return O({type:"replboxDisplay",fs:u}),void g(B.A.RUNNING)}O({type:"deprecationNotice"})},stopRepl:function(){if(O(null),S(!1),g(B.A.IDLE),!te){var e=Q().runner;e.getRunState()===B.A.RUNNING&&e.stopRun()}},runState:v,isFileTreeOpen:P,setIsFileTreeOpen:S,didBsod:Boolean(s),showUrlOutput:te,devClearBsod:function(){u("")}}}!function(e){e.Code="Code",e.Output="Output"}(K||(K={}));var Q=r(10998),J=r(65988),ee=r(82558),te=r.n(ee),re=r(84647),ne=r(7736),ie=r(57789),oe=r(24243),ae=r(56023),le=r(63732),ce=r(32324),se=ce.j.tabletMin,ue=r(5152),de=r(32930);function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var he=function(){var e=(0,A.Z)(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([r.e(2738),r.e(4474)]).then(r.t.bind(r,74474,23)).then((function(e){return e.default})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=(0,ue.default)(he,{ssr:!1,loading:function(){return null}});function ve(e){var t=e.contents,r={scrollToContent:!0};try{r=fe(fe({},r),JSON.parse(t||"{}"))}catch(i){}var n=(0,de.Fg)();return(0,j.BX)("div",{className:"jsx-866328784 excalidraw-wrapper",children:[(0,j.tZ)(me,{viewModeEnabled:!0,zenModeEnabled:!0,initialData:r,theme:n===de.V2.replitLight?"light":"dark"}),(0,j.tZ)(J.default,{id:"866328784",children:[".excalidraw-wrapper.jsx-866328784{cursor:all-scroll;height:100%;width:100%;}"]})]})}var ge=r(34837),be=r.n(ge),Ze=r(10908);function ye(e){var t=e.contents,r=e.isKbmsprite,n=o.useRef(null);return o.useEffect((function(){var e=n.current;if(e){e.width=e.offsetWidth,e.height=e.offsetHeight;var i=JSON.parse(t),o=be()({canvas:e,data:r?(0,Ze.C)(i):i,readonly:!0});return function(){o.cleanUp()}}}),[t,r]),(0,j.tZ)("canvas",{ref:n,className:"jsx-1590318377 pedit",children:(0,j.tZ)(J.default,{id:"1590318377",children:[".pedit.jsx-1590318377{width:100%;height:100%;}"]})})}var xe,we=r(93598),je=r(98711),ke=".lesson/lessonplan.md";function Oe(e){var t=e.fs,r=e.container,n=e.dotReplit,i=e.skip,a=e.preferredFile,l=o.useState(null),c=(0,f.Z)(l,2),s=c[0],u=c[1],d=function(e){var t,r=o.useState(null===(t=e.getContext())||void 0===t?void 0:t.repl.id),n=(0,f.Z)(r,2),i=n[0],a=n[1];return o.useEffect((function(){return e.onConnectionStateChanged((function(t){var r;t===z.e.CONNECTING&&a(null===(r=e.getContext())||void 0===r?void 0:r.repl.id)}))}),[e]),i}(r);return o.useEffect((function(){if(!i&&d){var e=!1;return Promise.all([(0,je.W)({replId:d,dotReplit:n,fs:t}),t.stat(ke)]).then((function(t){var r=(0,f.Z)(t,2),n=r[0],i=n.entrypoint,o=n.readmeFile,l=r[1];e||(a===xe.LessonPlan&&l.exists&&l.type===ae.Tv.File?u(ke):a===xe.Readme&&o?u(o):i&&u(i))})),function(){e=!0}}}),[t,n,d,i,a]),s}!function(e){e.Entrypoint="Entrypoint",e.Readme="Readme",e.LessonPlan="LessonPlan"}(xe||(xe={}));var Ce=r(15703),Pe=r(27894),Se=r(97613);function Re(e){var t=e.fs,r=e.container,n=e.dotReplit,i=e.activeFilePath,a=e.onActiveFilePathChange,l=e.preferredDefaultFile,c=o.useState(i?{path:i,type:ae.Tv.File}:null),s=(0,f.Z)(c,2),u=s[0],d=s[1],p=o.useRef(a);o.useEffect((function(){(null===u||void 0===u?void 0:u.type)===ae.Tv.File&&p.current(u.path)}),[u]),o.useEffect((function(){p.current=a}),[a]),o.useLayoutEffect((function(){p.current(i||void 0)}),[i]);var h=Oe({fs:t,container:r,dotReplit:n,skip:Boolean(i),preferredFile:l});o.useEffect((function(){i||h&&d({path:h,type:ae.Tv.File})}),[h,i]);var m=(0,we.Z)({fs:t,path:i||h||void 0}),v=(0,le.mn)({fs:t}),g=o.useCallback((function(e){var t=e.src;return(0,j.tZ)(le.TS,{previewFilePath:i||null,src:t,getImageContent:v})}),[v,i]);return(0,j.BX)("div",{className:J.default.dynamic([["1621507236",[se]]])+" file-viewer",children:[(0,j.BX)("div",{className:J.default.dynamic([["1621507236",[se]]])+" content",children:[m.result&&m.result.fileViewerType===Se.D.Media?(0,j.tZ)("div",{className:J.default.dynamic([["1621507236",[se]]])+" media",children:(0,j.tZ)(ie.A,{content:oe.Z.from(m.result.content).toString("base64"),mime:(0,re.yC)(m.result.path)})}):null,m.isLoading&&m.fileViewerType===Se.D.Media?(0,j.tZ)("div",{className:J.default.dynamic([["1621507236",[se]]])+" file-loader",children:(0,j.tZ)(Ce.Z,{})}):null,m.result&&m.result.fileViewerType===Se.D.Markdown?(0,j.tZ)("div",{className:J.default.dynamic([["1621507236",[se]]])+" markdown",children:(0,j.tZ)(ne.Z,{renderers:{image:g},plugins:[te()],source:m.result.content.toString()})}):null,m.isLoading&&m.fileViewerType===Se.D.Markdown?(0,j.tZ)("div",{className:J.default.dynamic([["1621507236",[se]]])+" file-loader",children:(0,j.tZ)(Ce.Z,{})}):null,m.result&&m.result.fileViewerType===Se.D.Draw?(0,j.tZ)("div",{className:J.default.dynamic([["1621507236",[se]]])+" draw",children:(0,j.tZ)(ve,{contents:m.result.content.toString()})}):null,m.isLoading&&m.fileViewerType===Se.D.Draw?(0,j.tZ)("div",{className:J.default.dynamic([["1621507236",[se]]])+" file-loader",children:(0,j.tZ)(Ce.Z,{})}):null,m.result&&m.result.fileViewerType===Se.D.Code?(0,j.tZ)(Pe.Z,{filePath:m.result.path,code:m.result.content.toString(),fontSize:14}):null,m.isLoading&&m.fileViewerType===Se.D.Code?(0,j.tZ)("div",{className:J.default.dynamic([["1621507236",[se]]])+" file-loader",children:(0,j.tZ)(Ce.Z,{})}):null,m.result&&m.result.fileViewerType===Se.D.Pedit?(0,j.tZ)(ye,{contents:m.result.content.toString(),isKbmsprite:!(null===i||void 0===i||!i.endsWith(".kbmsprite"))}):null,!m.isLoading&&m.error?(0,j.tZ)("div",{className:J.default.dynamic([["1621507236",[se]]])+" error",children:(0,j.BX)("div",{className:J.default.dynamic([["1621507236",[se]]]),children:["Could not load ",m.error.path]})}):null]}),(0,j.tZ)(J.default,{id:"1621507236",dynamic:[se],children:[".file-viewer.__jsx-style-dynamic-selector{position:absolute;top:0;left:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;align:stretch;height:100%;width:100%;}",".markdown.__jsx-style-dynamic-selector{word-break:break-word;max-width:840px;margin:0 auto;padding:var(--space-16);overflow-y:auto;position:relative;height:100%;}",".draw.__jsx-style-dynamic-selector{height:100%;width:100%;}",".file-tree.__jsx-style-dynamic-selector{background-color:var(--background-root);border-radius:var(--border-radius-4);overflow:auto;display:none;}",".content.__jsx-style-dynamic-selector{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;width:100%;height:100%;overflow-y:auto;position:relative;}",".file-loader.__jsx-style-dynamic-selector{width:100%;padding-top:var(--space-8);padding-left:var(--space-8);position:absolute;top:0;left:0;z-index:100;opacity:0;-webkit-animation:fadeIn-__jsx-style-dynamic-selector ease 0s forwards;animation:fadeIn-__jsx-style-dynamic-selector ease 0s forwards;-webkit-animation-delay:200ms;animation-delay:200ms;}",".media.__jsx-style-dynamic-selector,.error.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;}","@-webkit-keyframes fadeIn-__jsx-style-dynamic-selector{0%{opacity:0;}100%{opacity:1;}}","@keyframes fadeIn-__jsx-style-dynamic-selector{0%{opacity:0;}100%{opacity:1;}}","@media screen and (min-width:".concat(se,"px){.file-tree.__jsx-style-dynamic-selector{display:block;width:260px;}}")]})]})}var De=r(96622);function Ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Te(e){return(0,j.tZ)(De.Z,Ne(Ne({},e),{},{children:(0,j.tZ)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"4",strokeWidth:"2"})}))}var Be=r(39963),_e=r(80718),Ae=r(25373),Ie=r(32385),Xe=(0,s.K)("div");function Ue(e){var t=e.replId,r=e.language,n=o.useState((function(){return(0,Ae.Z)({beforeRun:function(){return Promise.resolve()},getMainFileContents:function(){return(0,Ie.Z)({language:e.language,fs:e.fs})}})})),i=(0,f.Z)(n,1)[0],a=o.useRef(null);return o.useEffect((function(){if(a.current){var e=!1;return i.load({replId:t,language:r,iframeParent:a.current}).then((function(){e||i.run()})),function(){e=!0,i.getRunState()!==B.A.OFFLINE&&i.destroy()}}}),[i,t,r]),(0,j.tZ)(Xe,{ref:a,css:[c.l0.width("100%"),c.l0.height("100%"),{backgroundColor:"white",borderBottomRightRadius:8,borderBottomLeftRadius:8,iframe:[c.l0.width("100%"),c.l0.height("100%"),{display:"block",utline:"none",border:"none",borderBottomRightRadius:8,borderBottomLeftRadius:8}]},"",""]})}var Le=r(81529),Ve=r(38279),ze=r(42567),Fe=r(972);var We={name:"1emh2t",styles:"overflow:auto;height:100%"};function Me(e){var t=e.fs,r=e.language,n=e.activePath,i=e.onNodeClick;return(0,j.tZ)(ze.Z,{children:(0,j.BX)(s.Z,{css:[c.l0.flex.column,c.l0.p(8),We,"",""],children:[(0,j.tZ)(s.Z,{css:[c.l0.p(8),"",""],children:(0,j.tZ)(p.h,{level:3,variant:"subheadDefault",children:"Files"})}),(0,j.tZ)(Ve.Z,{siblings:[],readOnly:!0,uploadFiles:function(){},onClick:function(){return null},pendingFileType:null,onRename:function(){return null},onDownload:function(){return null},onDuplicate:function(){return null},onDelete:function(){return null},getNodeType:(0,A.Z)(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ae.Tv.File);case 1:case"end":return e.stop()}}),e)}))),overwriteNode:function(){return null},setPendingFileType:function(){},activePath:n,onNodeClick:i,path:Le.Q,transformChildren:(0,Fe.Z)({language:r}),fs:t})]})})}var Ge=r(76642),He=r(61909),qe=r(8464);function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ye(e){return(0,j.tZ)(De.Z,$e($e({},e),{},{children:(0,j.tZ)("path",{d:"M19.5 9H4.5C3.67157 9 3 8.32843 3 7.5V4.5C3 3.67157 3.67157 3 4.5 3H19.5C20.3284 3 21 3.67157 21 4.5V7.5C21 8.32843 20.3284 9 19.5 9ZM19.5 9H8.5C7.67157 9 7 9.67157 7 10.5V13.5C7 14.3284 7.67157 15 8.5 15M19.5 9C20.3284 9 21 9.67157 21 10.5V13.5C21 14.3284 20.3284 15 19.5 15M8.5 15H19.5M8.5 15C7.67157 15 7 15.6716 7 16.5V19.5C7 20.3284 7.67157 21 8.5 21H19.5C20.3284 21 21 20.3284 21 19.5V16.5C21 15.6716 20.3284 15 19.5 15",strokeWidth:"2",strokeLinejoin:"round"})}))}var Qe="1px solid "+c.TV.outlineDimmer;function Je(e){var t=e.children;return(0,j.tZ)(s.Z,{tag:"header",css:[{borderBottom:Qe},c.l0.p(8),c.l0.rowWithGap(8),c.l0.align.center,"",""],children:t})}var et=(0,s.K)("a");function tt(e){var t=e.runCount,r=e.runState,n=e.onClick,i=e.publishedAs,o=r===B.A.RUNNING?(0,j.tZ)(Te,{fill:"currentColor"}):(0,j.tZ)(d.Z,{fill:"currentColor"}),l=i===a.O2h.Template?"Run example":"Run";return r===B.A.RUNNING&&(l="Stop"),(0,j.BX)(s.Z,{css:[c.l0.rowWithGap(8),c.l0.align.center,"",""],children:[(0,j.tZ)(p.x,{children:(0,_e.d)(t)}),(0,j.tZ)(u.ZP,{colorway:r===B.A.RUNNING||i===a.O2h.Template?void 0:"positive",onClick:n,iconLeft:o,text:l})]})}function rt(e){var t=e.children;return(0,j.tZ)(l.Z,{elevated:!0,css:[{border:Qe},c.l0.borderRadius(8),"",""],children:t})}function nt(e){var t=e.src;return(0,j.tZ)(s.Z,{css:[c.l0.width("100%"),c.l0.height("100%"),"",""],children:(0,j.tZ)(s.Z,{tag:"iframe",sandbox:"allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals",src:t,css:[c.l0.width("100%"),c.l0.height("100%"),"border-bottom-right-radius:8px;border-bottom-left-radius:8px;position:absolute;background-color:white;display:block;border:none;top:0;left:0;",""]})})}var it={name:"7n5vuo",styles:"z-index:101;position:absolute;top:0;left:0;height:100%;overflow:hidden;border-bottom-left-radius:8px"};function ot(e){var t=e.getFs,r=e.isOpen,n=e.language,i=e.activePath,a=e.onFileClick,c=(0,o.useState)(r),u=c[0],d=c[1];return(0,o.useEffect)((function(){u||r&&d(!0)}),[r,u,d]),u?(0,j.tZ)(s.Z,{css:it,children:(0,j.tZ)(l.Z,{elevated:!0,css:[{height:"100%",width:200,transition:"transform ".concat(160,"ms"),transform:"translateX(".concat(r?0:-200,"px)")},"",""],children:(0,j.tZ)(Me,{fs:t(),language:n,activePath:i,onNodeClick:function(e){e.type!==ae.Tv.Directory&&a(e.path)}})})}):null}var at=(0,s.K)("div");function lt(e){var t=e.repl,r=e.currentUser,d=Y({repl:t,currentUser:r,initialViewMode:t.publishedAs===a.O2h.Template||t.isProject?K.Code:K.Output}),f=d.openFile,h=d.viewState,m=d.getFs,v=d.runRepl,g=d.stopRepl,b=d.runState,y=d.didBsod,x=d.devClearBsod,k=d.isFileTreeOpen,O=d.setIsFileTreeOpen,C=d.showUrlOutput,P=(0,o.useState)(!1),S=P[0],R=P[1],D=(0,He.Z)((function(e){void 0!==e.width&&R(e.width<=500)}));return y?(0,j.tZ)(N.Z,{devHide:x}):(0,j.BX)(rt,{children:[(0,j.BX)(Je,{children:[(0,j.BX)(s.Z,{css:[c.l0.flex.growAndShrink(1),c.l0.rowWithGap(8),"",""],children:[(0,j.BX)(s.Z,{css:[c.l0.rowWithGap(4),c.l0.align.center,"",""],children:[(0,j.tZ)(u.ZP,{iconLeft:(0,j.tZ)(Ye,{}),text:k?"Hide files":"Show files",onClick:function(){return O((function(e){return!e}))},css:(0,i.iv)((0,n.Z)({},"@media (max-width: ".concat(ce.j.mobileMax,"px)"),{display:"none"}),"","")}),(0,j.tZ)(l.Z,{background:"default",css:[c.l0.borderRadius(8),(0,n.Z)({},"@media (min-width: ".concat(ce.j.mobileMax+1,"px)"),{display:"none"}),"",""],children:(0,j.tZ)(Z.Z,{css:qe.G,alt:k?"Hide files":"Show files",onClick:function(){return O((function(e){return!e}))},children:(0,j.tZ)(Ye,{})})})]}),C?(0,j.tZ)(s.Z,{css:[c.l0.center,{borderLeft:"1px solid "+c.TV.outlineDimmest},"",""],children:(0,j.BX)(et,{css:[c.l0.rowWithGap(4),c.l0.color.foregroundDimmer,c.l0.px(8),"",""],href:t.prodUrl,target:"_blank",children:[(0,j.tZ)(Ge.Z,{}),(0,j.tZ)(p.x,{children:(0,j.tZ)("span",{css:(0,i.iv)((0,n.Z)({},"@media (max-width: ".concat(ce.j.mobileMax+20,"px)"),{display:"none"}),"",""),children:"Open website"})})]})}):null]}),(0,j.BX)(s.Z,{css:[c.l0.rowWithGap(8),c.l0.align.center,"",""],children:[(0,j.tZ)(qe.Z,{repl:t,currentUser:r}),(0,j.tZ)(tt,{runCount:t.runCount,runState:b,publishedAs:t.publishedAs,onClick:function(){if(b===B.A.IDLE||b===B.A.OFFLINE)return(0,w.track)(w.events.RUN_BUTTON_CLICKED,{context:"replView"}),void v();b===B.A.RUNNING&&g()}})]})]}),(0,j.BX)(at,{ref:D,css:[c.l0.flex.growAndShrink(1),"position:relative;",""],children:[null===h?(0,j.tZ)(E,{repl:t,onClick:v}):null,"server"===(null===h||void 0===h?void 0:h.type)?(0,j.tZ)(nt,{src:h.hostedUrl}):null,"vnc"===(null===h||void 0===h?void 0:h.type)?(0,j.tZ)(Q.Z,{fs:h.fs,container:h.container}):null,"replboxDisplay"===(null===h||void 0===h?void 0:h.type)?(0,j.tZ)(Ue,{replId:t.id,language:t.language,fs:h.fs}):null,"deprecationNotice"===(null===h||void 0===h?void 0:h.type)?(0,j.tZ)(s.Z,{css:[c.l0.center,c.l0.p(16),c.l0.height("100%"),"",""],children:(0,j.BX)(p.x,{multiline:!0,variant:"subheadDefault",children:['Running "',t.lang.displayName,'" is no longer supported.'," ",(0,j.tZ)("a",{href:"https://replit.canny.io/general-feedback/",target:"_blank",rel:"noopener",children:"Send feedback"})]})}):null,"terminal"===(null===h||void 0===h?void 0:h.type)?(0,j.tZ)(s.Z,{css:[c.l0.height("100%"),c.l0.width("100%"),c.l0.position.relative,"overflow:hidden;border-bottom-left-radius:8px;border-bottom-right-radius:8px;",""],children:(0,j.tZ)(Be.ZP,{packager:h.packager,runner:h.runner,languageHeader:t.lang.header||void 0})}):null,"code"===(null===h||void 0===h?void 0:h.type)?(0,j.tZ)(s.Z,{css:[c.l0.height("100%"),c.l0.flex.growAndShrink(1),{position:"relative",overflow:"hidden",borderBottomLeftRadius:8,borderBottomRightRadius:8,transition:"margin ".concat(160,"ms"),marginLeft:k&&!S?200:0},"",""],children:(0,j.tZ)(Re,{preferredDefaultFile:t.isProject?xe.LessonPlan:xe.Readme,fs:h.fs,dotReplit:h.dotReplit,container:h.container,activeFilePath:h.path,onActiveFilePathChange:function(e){e&&f(e)}})}):null,(0,j.tZ)(ot,{isOpen:k,language:t.lang.id,activePath:"code"===(null===h||void 0===h?void 0:h.type)?h.path:null,onFileClick:function(e){f(e),S&&O(!1)},getFs:m})]})]})}},97613:function(e,t,r){"use strict";r.d(t,{D:function(){return n},V:function(){return o}});var n,i=r(84647);function o(e){return e.endsWith(".md")?n.Markdown:(0,i.sL)(e)?n.Draw:(0,i.IQ)(e)?n.Pedit:(0,i.T3)(e)?n.Media:n.Code}!function(e){e.Media="Media",e.Code="Code",e.Markdown="Markdown",e.Draw="Draw",e.Pedit="Pedit"}(n||(n={}))},93598:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(79056),i=r(92809),o=r(67294),a=r(97613);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){return c(c({},e),t)}var u={isLoading:!1,result:null,error:null,fileViewerType:null};function d(e){var t=e.fs,r=e.path,i=o.useReducer(s,u),l=(0,n.Z)(i,2),c=l[0],d=l[1];return o.useEffect((function(){if(r){var e=!1,n=(0,a.V)(r);return d({isLoading:!0,fileViewerType:n}),t.readFile(r).then((function(t){e||(t.error?d({isLoading:!1,result:null,error:{path:r,fileViewerType:n,error:t.error}}):d({isLoading:!1,result:{path:r,fileViewerType:n,content:t.content},error:null}))})),function(){e=!0}}d(u)}),[t,r]),c}},54916:function(e,t,r){"use strict";r.d(t,{Z:function(){return m}});var n=r(92809),i=r(10219),o=(r(67294),r(49512)),a=r(30281),l=r(82457),c=r(98960),s=r(35944),u=["checked","onChange"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=(0,o.K)("input"),h={name:"xq7gum",styles:"position:absolute;pointer-events:none"};function m(e){var t=e.checked,r=e.onChange,n=(0,i.Z)(e,u);return(0,s.BX)(o.Z,{tag:"div",css:[l.l0.justify.center,l.l0.align.center,"",""],children:[(0,s.tZ)(f,p({tag:"input",type:"checkbox",checked:t,onChange:function(e){r&&r(e)},css:[a.gU.filledAndOutlined,{appearance:"none",width:20,height:20,borderRadius:l.TV.borderRadius4},"",""]},n)),t?(0,s.tZ)(c.Z,{css:h}):null]})}},10908:function(e,t,r){"use strict";function n(e){var t=document.createElement("canvas"),r=t.getContext("2d");if(t.width=e.width,t.height=e.height,!r)throw new Error("failed to get canvas ctx");return{version:"1",width:e.width,height:e.height,palette:[[0,0,0,255],[255,255,255,255],[255,255,128,255],[255,128,255,255],[0,128,128,255],[128,0,255,255],[255,0,128,255],[0,255,255,255]],anims:{},frames:e.frames.map((function(n){var i=new window.ImageData(new Uint8ClampedArray(n.pixels),e.width,e.height);return r.putImageData(i,0,0),t.toDataURL()}))}}function i(e){return new Promise((function(t,r){var n=new window.Image;n.src=e,n.onload=function(){t(n)},n.onerror=r}))}function o(e){return new Promise((function(t,r){Promise.all(e.frames.map(i)).then((function(n){var i=document.createElement("canvas");i.width=e.width,i.height=e.height;var o=i.getContext("2d");if(o){var a=n.map((function(t){return o.drawImage(t,0,0),{pixels:Array.from(o.getImageData(0,0,e.width,e.height).data),width:e.width,height:e.height}}));t({frames:a,preview:e.frames[0],width:e.width,height:e.height})}else r(new Error("failed to get canvas ctx"))})).catch(r)}))}r.d(t,{C:function(){return n},u:function(){return o}})},15703:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});r(67294);var n=r(24561),i=r(14900),o=r(82457),a=r(70917),l=r(35944),c=(0,a.F4)({"0%":{opacity:0},"100%":{opacity:1}});function s(){return(0,l.tZ)(i.Z,{background:"default",css:[o.l0.p(16),{overflow:"hidden",height:"100%",width:"100%",opacity:0,animation:"".concat(c," ease 0s forwards"),animationDelay:"200ms","> svg":{maxWidth:640,minWidth:500,height:"auto"},"@media (min-width: 900px)":o.l0.pl(32)},"",""],children:(0,l.BX)(n.ZP,{primaryColor:o.TV.backgroundHighest,secondaryColor:o.TV.backgroundHigher,uniquekey:"editorLoader",children:[(0,l.tZ)("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"70",height:"10"}),(0,l.tZ)("rect",{x:"80",y:"0",rx:"3",ry:"3",width:"100",height:"10"}),(0,l.tZ)("rect",{x:"190",y:"0",rx:"3",ry:"3",width:"10",height:"10"}),(0,l.tZ)("rect",{x:"15",y:"20",rx:"3",ry:"3",width:"130",height:"10"}),(0,l.tZ)("rect",{x:"155",y:"20",rx:"3",ry:"3",width:"130",height:"10"}),(0,l.tZ)("rect",{x:"15",y:"40",rx:"3",ry:"3",width:"90",height:"10"}),(0,l.tZ)("rect",{x:"115",y:"40",rx:"3",ry:"3",width:"60",height:"10"}),(0,l.tZ)("rect",{x:"185",y:"40",rx:"3",ry:"3",width:"60",height:"10"}),(0,l.tZ)("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"30",height:"10"}),(0,l.tZ)("rect",{x:"15",y:"80",rx:"3",ry:"3",width:"70",height:"10"}),(0,l.tZ)("rect",{x:"95",y:"80",rx:"3",ry:"3",width:"60",height:"10"}),(0,l.tZ)("rect",{x:"165",y:"80",rx:"3",ry:"3",width:"30",height:"10"}),(0,l.tZ)("rect",{x:"15",y:"100",rx:"3",ry:"3",width:"110",height:"10"}),(0,l.tZ)("rect",{x:"135",y:"100",rx:"3",ry:"3",width:"100",height:"10"}),(0,l.tZ)("rect",{x:"0",y:"120",rx:"3",ry:"3",width:"70",height:"10"})]})})}},10998:function(e,t,r){"use strict";r.d(t,{Z:function(){return b}});var n,i=r(30266),o=r(79056),a=r(65988),l=r(809),c=r.n(l),s=r(67294),u=r(71371),d=r(56180),p=r(61909),f=r(38934),h=r(76839),m=r(95610),v=r(35944);!function(e){e.Connecting="Connecting",e.Connected="Connected",e.Disconnected="Disconnected"}(n||(n={}));var g="VNC_PASSWORD";function b(e){var t=e.fs,l=e.container,b=s.useState(null),Z=(0,o.Z)(b,2),y=Z[0],x=Z[1],w=s.useState(void 0),j=(0,o.Z)(w,2),k=j[0],O=j[1],C=s.useState(n.Connecting),P=(0,o.Z)(C,2),S=P[0],R=P[1],D=s.useState(null),E=(0,o.Z)(D,2),N=E[0],T=E[1],B=s.useState(!1),_=(0,o.Z)(B,2),A=_[0],I=_[1],X=s.useState(!1),U=(0,o.Z)(X,2),L=U[0],V=U[1],z=s.useState(null),F=(0,o.Z)(z,2),W=F[0],M=F[1];(0,f.track)(f.events.VNC_OPENED),s.useEffect((function(){if(l.getConnectionState()!==m.e.CONNECTED)return l.onConnectionStateChanged((function(e){e===m.e.CONNECTED&&M(l.getVncUrl())}));M(l.getVncUrl())}),[l]);var G=s.useState(null),H=(0,o.Z)(G,2),q=H[0],K=H[1],$=s.useRef((function(){return null}));s.useEffect((function(){$.current()}),[q]);var Y=(0,p.Z)((function(e){return K(e.width&&e.height?{width:e.width,height:e.height}:null)}),{type:"throttle",wait:100}),Q=s.useRef((function(e){}));return s.useEffect((function(){Q.current(L)}),[L]),s.useEffect((function(){if(!y){var e=!1;return r.e(581).then(r.bind(r,80581)).then((function(t){e||x(t)})),function(){e=!0}}}),[y]),s.useEffect((function(){if(W&&N&&y){var e=!1,r=y.default,o=l.getConnectionMetadata(),a={credentials:{username:null===o||void 0===o?void 0:o.token,password:k||""}};(0,f.track)(f.events.VNC_CONNECTED);var s=new r(N,W,a);s.scaleViewport=!0,s.resizeSession=!0;var d=function(){e||R(n.Connected)},p=function(e){var t=e.detail.capabilities.audio;I(void 0!==window.MediaSource&&!!t)},m=function(){e||R(n.Disconnected)},v=function(){if(!e){var r=function(){var e=window.prompt("The output is password protected, please input it:");e&&O(e)};(function(){var n=(0,i.Z)(c().mark((function n(){var i,o,a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.readFile(".env");case 2:if(i=n.sent,!e){n.next=5;break}return n.abrupt("return");case 5:if(!i.error){n.next=8;break}return r(),n.abrupt("return");case 8:if(o=i.content.toString("utf8"),a=h.Z.parse(o),g in a){n.next=13;break}return r(),n.abrupt("return");case 13:O(a.VNC_PASSWORD);case 14:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()().catch((function(e){return u.Tb(e)}))}};return s.addEventListener("connect",d),s.addEventListener("capabilities",p),s.addEventListener("disconnect",m),s.addEventListener("securityfailure",v),$.current=function(){return s._windowResize()},I(!1),V(!1),Q.current=function(e){e?((0,f.track)(f.events.VNC_AUDIO_ENABLED),s.enableAudio(2,window.MediaSource.isTypeSupported("audio/webm;codecs=opus")?r.audioCodecs.OpusWebM:r.audioCodecs.MP3,32768)):s.disableAudio()},function(){e=!0,$.current=function(){return null},Q.current=function(e){},s.disconnect(),s.removeEventListener("securityfailure",v),s.removeEventListener("disconnect",m),s.removeEventListener("capabilities",p),s.removeEventListener("connect",d)}}}),[y,N,l,W,t,k]),(0,v.BX)("div",{className:"jsx-1158570065 vnc",children:[A?(0,v.BX)("label",{className:"jsx-1158570065 vnc-audio",children:["\ud83c\udfa7"," ",(0,v.tZ)("input",{type:"checkbox",checked:L,onChange:function(e){return V(e.target.checked)},className:"jsx-1158570065"})]}):null,(0,v.tZ)("div",{ref:function(e){Y(e),T(e)},className:"jsx-1158570065 vnc-target"}),S!==n.Connected&&(0,v.tZ)("div",{className:"jsx-1158570065 vnc-overlay",children:(0,v.tZ)(d.Z,{})}),(0,v.tZ)(a.default,{id:"1158570065",children:[".vnc.jsx-1158570065{position:relative;}",".vnc.jsx-1158570065,.vnc-target.jsx-1158570065{height:100%;width:100%;}",".vnc-audio.jsx-1158570065{position:absolute;bottom:0;right:0;padding:0.2em;}",".vnc-overlay.jsx-1158570065{top:0;position:absolute;height:100%;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background:rgba(0,0,0,0.85);color:var(--white);}"]})]})}},56703:function(e){var t=/^@(\w+)/,r=function(e,r,n){var i=t.exec(r);if(i)return!!n||e(i[0])({type:"link",url:"/@"+i[1],children:[{type:"text",value:i[0],position:{start:e.now()}}]})};r.notInLink=!0,r.locator=function(e,t){var r=e.indexOf("@",t);return 0===r||-1===r||-1!==(r=e.indexOf(" @",t-1))&&r++,r},e.exports={markdownMentionPlugin:function(){var e=this.Parser,t=e.prototype.inlineTokenizers,n=e.prototype.inlineMethods;t.mention=r,n.splice(n.indexOf("text"),0,"mention")},usernameRegExp:t}}}]);