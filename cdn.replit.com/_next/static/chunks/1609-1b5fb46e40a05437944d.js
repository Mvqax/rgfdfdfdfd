"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1609],{11609:function(e,t,r){r.d(t,{Z:function(){return V}});var n=r(92809),l=r(97131),i=r(79056),c=r(67294),o=r(45187),s=r(80723),u=r(223),a=r(32046),d=r(91761),p=r(96887),f=r(55104),h=r(11069),b=r(49512),m=r(82457),g=r(70917),Z=r(30281),v=r(10277),O=r(53753),y=r(85984),w=r(35944);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=(0,b.K)("input"),I=(0,b.K)("div"),S=(0,b.K)("li"),U=(0,g.iv)([Z.gU.filled,m.l0.p(8),{color:m.TV.foregroundDefault,border:"0 none",outline:"0 none",fontSize:m.TV.fontSizeDefault,lineHeight:"16px",display:"block",width:"100%","::placeholder":{color:m.TV.foregroundDimmer},":not([disabled])":{cursor:"text"}}],"",""),D={name:"bjn8wh",styles:"position:relative"},E={name:"bjn8wh",styles:"position:relative"},k={name:"bjn8wh",styles:"position:relative"};function V(e){var t,r=e.disabled,n=e.filter,g=e.manualSelect,Z=e.excludePrivate,j=e.onSelect,V=c.useState([]),T=(0,i.Z)(V,2),z=T[0],B=T[1],C=c.useState(""),K=(0,i.Z)(C,2),X=K[0],_=K[1],F=c.useRef(null),N=n?z.filter(n):z,H=(0,s.Kb)({items:N,initialHighlightedIndex:g?-1:0,itemToString:function(e){var t;return e?"".concat(null===(t=e.owner)||void 0===t?void 0:t.username,"/").concat(e.title):""}});c.useEffect((function(){return _(H.inputValue)}),[H.inputValue]);var M=(0,a.Z)(X,100),R=(0,o.aFh)({variables:{search:M,excludePrivate:Z},onCompleted:function(e){if(!e.currentUser)throw new Error("Expected currentUser");e.currentUser.replSearch?B(e.currentUser.replSearch.reduce((function(e,t){return t?[].concat((0,l.Z)(e),[t]):e}),[])):B([])}}).loading,q=(0,p.Z)(j);c.useEffect((function(){var e;H.selectedItem&&(null===(e=F.current)||void 0===e||e.blur(),q.current(H.selectedItem))}),[H.selectedItem,q]);var A=null!==(t=H.selectedItem)&&void 0!==t&&t.iconUrl&&H.inputValue?(0,w.tZ)(b.Z,{css:[m.l0.px(8),m.l0.center,"position:absolute;top:0;left:0;height:100%;",""],children:(0,w.tZ)(f.Z,{alt:H.selectedItem.title,iconUrl:H.selectedItem.iconUrl,size:16})}):null;return(0,w.BX)(b.Z,{css:D,children:[(0,w.BX)(I,P(P({},H.getComboboxProps()),{},{css:E,children:[A,(0,w.tZ)(x,P({css:[U,m.l0.pr(32),A&&m.l0.pl(32),"",""]},H.getInputProps({ref:F,placeholder:"Search for a repl",onFocus:function(e){H.selectedItem&&(e.preventDefault(),e.currentTarget.select(),_("")),H.openMenu()}}))),(0,w.tZ)(b.Z,{css:[m.l0.center,m.l0.px(8),"position:absolute;top:0;right:0;height:100%;",""],children:(0,w.tZ)(v.Z,{})})]})),(0,w.tZ)(I,P(P({},H.getMenuProps()),{},{css:k,children:H.isOpen&&!r?(0,w.BX)(O.Z,{children:[R?(0,w.tZ)(S,{css:[m.l0.center,m.l0.py(32),"",""],children:(0,w.tZ)(h.Z,{})}):null,N.length||R?null:(0,w.tZ)(S,{css:[m.l0.center,m.l0.py(32),"",""],children:(0,w.BX)(u.x,{color:"dimmer",variant:"small",children:["No ",z.length>0?"more ":null,"repls found"]})}),N.map((function(e,t){return(0,w.tZ)(S,P(P({},H.getItemProps({item:e,index:t})),{},{children:(0,w.tZ)(y.Z,{filter:X,title:e.title,subtitle:(0,d.F)(e.timeUpdated),selected:H.selectedItem===e,highlighted:H.highlightedIndex===t,icon:e.iconUrl?(0,w.tZ)(f.Z,{iconUrl:e.iconUrl,alt:e.title,size:16}):void 0})}),e.id)}))]}):null}))]})}}}]);